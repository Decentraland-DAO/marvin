/*! For license information please see 548c89a9-b6454da7c59afcbeedb0.js.LICENSE.txt */
(self.webpackChunksnapshot=self.webpackChunksnapshot||[]).push([[13054],{31874:function(t,e,n){var r=n(33496),o=n(66115),i=n(61655),a=n(94993),s=n(73808),u=n(27424),c=n(64687),l=n(17156),f=n(56690),h=n(89728);function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}n(65743),n(17727),function(t){"use strict";function e(t){if(t.jsonrpc="2.0",!t.id||"number"!=typeof t.id||Math.floor(t.id)!==t.id)throw new Error("Invalid RPC message(invalid id) message: ".concat(JSON.stringify(t)));if(!t.method||"string"!=typeof t.method||0===t.method.trim().length)throw new Error("Invalid RPC message(invalid method) message: ".concat(JSON.stringify(t)));if(!t.params||"object"!=typeof t.params)throw new Error("Invalid RPC message(invalid params) message: ".concat(JSON.stringify(t)));return t}function a(t,e){return t(e={exports:{}},e.exports),e.exports}var s,d=a((function(t,e){function n(){var t,e,n=new Promise((function(r,o){t=function(t){r(t),n.isPending=!1},e=function(t){o(t),n.isPending=!1}})).catch((function(t){return Promise.reject(t)}));return n.resolve=t,n.reject=e,"finally"in n||(n.finally=function(t){n.then(t),n.catch(t)}),n.isPending=!0,n}Object.defineProperty(e,"__esModule",{value:!0}),e.future=n,e.default=n}));(s=d)&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")&&s.default;var g=d.future,m=void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function y(){throw new Error("setTimeout has not been defined")}function v(){throw new Error("clearTimeout has not been defined")}var w=y,b=v;function k(t){if(w===setTimeout)return setTimeout(t,0);if((w===y||!w)&&setTimeout)return w=setTimeout,setTimeout(t,0);try{return w(t,0)}catch(e){try{return w.call(null,t,0)}catch(e){return w.call(this,t,0)}}}"function"==typeof m.setTimeout&&(w=setTimeout),"function"==typeof m.clearTimeout&&(b=clearTimeout);var _,x=[],F=!1,N=-1;function A(){F&&_&&(F=!1,_.length?x=_.concat(x):N=-1,x.length&&T())}function T(){if(!F){var t=k(A);F=!0;for(var e=x.length;e;){for(_=x,x=[];++N<e;)_&&_[N].run();N=-1,e=x.length}_=null,F=!1,function(t){if(b===clearTimeout)return clearTimeout(t);if((b===v||!b)&&clearTimeout)return b=clearTimeout,clearTimeout(t);try{b(t)}catch(e){try{return b.call(null,t)}catch(e){return b.call(this,t)}}}(t)}}function E(t,e){this.fun=t,this.array=e}function B(){}E.prototype.run=function(){this.fun.apply(null,this.array)};var O=B,S=B,C=B,I=B,P=B,R=B,M=B,j=m.performance||{},U=j.now||j.mozNow||j.msNow||j.oNow||j.webkitNow||function(){return(new Date).getTime()},D=new Date,q={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];x.push(new E(t,e)),1!==x.length||F||k(T)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:O,addListener:S,once:C,off:I,removeListener:P,removeAllListeners:R,emit:M,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*U.call(j),n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n-=t[0],(r-=t[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-D)/1e3}},L=a((function(t){!function(){var e="input is invalid type",n="object"==typeof window,r=n?window:{};r.JS_SHA3_NO_WINDOW&&(n=!1);var o=!n&&"object"==typeof self;!r.JS_SHA3_NO_NODE_JS&&"object"==typeof q&&q.versions&&q.versions.node?r=m:o&&(r=self);var i=!r.JS_SHA3_NO_COMMON_JS&&t.exports,a=!r.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,s="0123456789abcdef".split(""),u=[4,1024,262144,67108864],c=[0,8,16,24],l=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],f=[224,256,384,512],h=[128,256],p=["hex","buffer","arrayBuffer","array","digest"],d={128:168,256:136};!r.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!a||!r.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var g=function(t,e,n){return function(r){return new S(t,e,t).update(r)[n]()}},y=function(t,e,n){return function(r,o){return new S(t,e,o).update(r)[n]()}},v=function(t,e,n){return function(e,r,o,i){return x["cshake"+t].update(e,r,o,i)[n]()}},w=function(t,e,n){return function(e,r,o,i){return x["kmac"+t].update(e,r,o,i)[n]()}},b=function(t,e,n,r){for(var o=0;o<p.length;++o){var i=p[o];t[i]=e(n,r,i)}return t},k=function(t,e){var n=g(t,e,"hex");return n.create=function(){return new S(t,e,t)},n.update=function(t){return n.create().update(t)},b(n,g,t,e)},_=[{name:"keccak",padding:[1,256,65536,16777216],bits:f,createMethod:k},{name:"sha3",padding:[6,1536,393216,100663296],bits:f,createMethod:k},{name:"shake",padding:[31,7936,2031616,520093696],bits:h,createMethod:function(t,e){var n=y(t,e,"hex");return n.create=function(n){return new S(t,e,n)},n.update=function(t,e){return n.create(e).update(t)},b(n,y,t,e)}},{name:"cshake",padding:u,bits:h,createMethod:function(t,e){var n=d[t],r=v(t,0,"hex");return r.create=function(r,o,i){return o||i?new S(t,e,r).bytepad([o,i],n):x["shake"+t].create(r)},r.update=function(t,e,n,o){return r.create(e,n,o).update(t)},b(r,v,t,e)}},{name:"kmac",padding:u,bits:h,createMethod:function(t,e){var n=d[t],r=w(t,0,"hex");return r.create=function(r,o,i){return new C(t,e,o).bytepad(["KMAC",i],n).bytepad([r],n)},r.update=function(t,e,n,o){return r.create(t,n,o).update(e)},b(r,w,t,e)}}],x={},F=[],N=0;N<_.length;++N)for(var A=_[N],T=A.bits,E=0;E<T.length;++E){var B=A.name+"_"+T[E];if(F.push(B),x[B]=A.createMethod(T[E],A.padding),"sha3"!==A.name){var O=A.name+T[E];F.push(O),x[O]=x[B]}}function S(t,e,n){this.blocks=[],this.s=[],this.padding=e,this.outputBits=n,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}function C(t,e,n){S.call(this,t,e,n)}S.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var n,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(e);if(null===t)throw new Error(e);if(a&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||a&&ArrayBuffer.isView(t)))throw new Error(e);n=!0}for(var o,i,s=this.blocks,u=this.byteCount,l=t.length,f=this.blockCount,h=0,p=this.s;h<l;){if(this.reset)for(this.reset=!1,s[0]=this.block,o=1;o<f+1;++o)s[o]=0;if(n)for(o=this.start;h<l&&o<u;++h)s[o>>2]|=t[h]<<c[3&o++];else for(o=this.start;h<l&&o<u;++h)(i=t.charCodeAt(h))<128?s[o>>2]|=i<<c[3&o++]:i<2048?(s[o>>2]|=(192|i>>6)<<c[3&o++],s[o>>2]|=(128|63&i)<<c[3&o++]):i<55296||i>=57344?(s[o>>2]|=(224|i>>12)<<c[3&o++],s[o>>2]|=(128|i>>6&63)<<c[3&o++],s[o>>2]|=(128|63&i)<<c[3&o++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++h)),s[o>>2]|=(240|i>>18)<<c[3&o++],s[o>>2]|=(128|i>>12&63)<<c[3&o++],s[o>>2]|=(128|i>>6&63)<<c[3&o++],s[o>>2]|=(128|63&i)<<c[3&o++]);if(this.lastByteIndex=o,o>=u){for(this.start=o-u,this.block=s[f],o=0;o<f;++o)p[o]^=s[o];I(p),this.reset=!0}else this.start=o}return this},S.prototype.encode=function(t,e){var n=255&t,r=1,o=[n];for(n=255&(t>>=8);n>0;)o.unshift(n),n=255&(t>>=8),++r;return e?o.push(r):o.unshift(r),this.update(o),o.length},S.prototype.encodeString=function(t){var n,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(e);if(null===t)throw new Error(e);if(a&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||a&&ArrayBuffer.isView(t)))throw new Error(e);n=!0}var o=0,i=t.length;if(n)o=i;else for(var s=0;s<t.length;++s){var u=t.charCodeAt(s);u<128?o+=1:u<2048?o+=2:u<55296||u>=57344?o+=3:(u=65536+((1023&u)<<10|1023&t.charCodeAt(++s)),o+=4)}return o+=this.encode(8*o),this.update(t),o},S.prototype.bytepad=function(t,e){for(var n=this.encode(e),r=0;r<t.length;++r)n+=this.encodeString(t[r]);var o=e-n%e,i=[];return i.length=o,this.update(i),this},S.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,n=this.blockCount,r=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[n],e=1;e<n+1;++e)t[e]=0;for(t[n-1]|=2147483648,e=0;e<n;++e)r[e]^=t[e];I(r)}},S.prototype.toString=S.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,n=this.s,r=this.outputBlocks,o=this.extraBytes,i=0,a=0,u="";a<r;){for(i=0;i<e&&a<r;++i,++a)t=n[i],u+=s[t>>4&15]+s[15&t]+s[t>>12&15]+s[t>>8&15]+s[t>>20&15]+s[t>>16&15]+s[t>>28&15]+s[t>>24&15];a%e==0&&(I(n),i=0)}return o&&(t=n[i],u+=s[t>>4&15]+s[15&t],o>1&&(u+=s[t>>12&15]+s[t>>8&15]),o>2&&(u+=s[t>>20&15]+s[t>>16&15])),u},S.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,n=this.s,r=this.outputBlocks,o=this.extraBytes,i=0,a=0,s=this.outputBits>>3;t=o?new ArrayBuffer(r+1<<2):new ArrayBuffer(s);for(var u=new Uint32Array(t);a<r;){for(i=0;i<e&&a<r;++i,++a)u[a]=n[i];a%e==0&&I(n)}return o&&(u[i]=n[i],t=t.slice(0,s)),t},S.prototype.buffer=S.prototype.arrayBuffer,S.prototype.digest=S.prototype.array=function(){this.finalize();for(var t,e,n=this.blockCount,r=this.s,o=this.outputBlocks,i=this.extraBytes,a=0,s=0,u=[];s<o;){for(a=0;a<n&&s<o;++a,++s)t=s<<2,e=r[a],u[t]=255&e,u[t+1]=e>>8&255,u[t+2]=e>>16&255,u[t+3]=e>>24&255;s%n==0&&I(r)}return i&&(t=s<<2,e=r[a],u[t]=255&e,i>1&&(u[t+1]=e>>8&255),i>2&&(u[t+2]=e>>16&255)),u},C.prototype=new S,C.prototype.finalize=function(){return this.encode(this.outputBits,!0),S.prototype.finalize.call(this)};var I=function(t){var e,n,r,o,i,a,s,u,c,f,h,p,d,g,m,y,v,w,b,k,_,x,F,N,A,T,E,B,O,S,C,I,P,R,M,j,U,D,q,L,H,G,z,J,$,W,V,K,Z,Y,X,Q,tt,et,nt,rt,ot,it,at,st,ut,ct,lt;for(r=0;r<48;r+=2)o=t[0]^t[10]^t[20]^t[30]^t[40],i=t[1]^t[11]^t[21]^t[31]^t[41],a=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],u=t[4]^t[14]^t[24]^t[34]^t[44],c=t[5]^t[15]^t[25]^t[35]^t[45],f=t[6]^t[16]^t[26]^t[36]^t[46],h=t[7]^t[17]^t[27]^t[37]^t[47],e=(p=t[8]^t[18]^t[28]^t[38]^t[48])^(a<<1|s>>>31),n=(d=t[9]^t[19]^t[29]^t[39]^t[49])^(s<<1|a>>>31),t[0]^=e,t[1]^=n,t[10]^=e,t[11]^=n,t[20]^=e,t[21]^=n,t[30]^=e,t[31]^=n,t[40]^=e,t[41]^=n,e=o^(u<<1|c>>>31),n=i^(c<<1|u>>>31),t[2]^=e,t[3]^=n,t[12]^=e,t[13]^=n,t[22]^=e,t[23]^=n,t[32]^=e,t[33]^=n,t[42]^=e,t[43]^=n,e=a^(f<<1|h>>>31),n=s^(h<<1|f>>>31),t[4]^=e,t[5]^=n,t[14]^=e,t[15]^=n,t[24]^=e,t[25]^=n,t[34]^=e,t[35]^=n,t[44]^=e,t[45]^=n,e=u^(p<<1|d>>>31),n=c^(d<<1|p>>>31),t[6]^=e,t[7]^=n,t[16]^=e,t[17]^=n,t[26]^=e,t[27]^=n,t[36]^=e,t[37]^=n,t[46]^=e,t[47]^=n,e=f^(o<<1|i>>>31),n=h^(i<<1|o>>>31),t[8]^=e,t[9]^=n,t[18]^=e,t[19]^=n,t[28]^=e,t[29]^=n,t[38]^=e,t[39]^=n,t[48]^=e,t[49]^=n,g=t[0],m=t[1],W=t[11]<<4|t[10]>>>28,V=t[10]<<4|t[11]>>>28,B=t[20]<<3|t[21]>>>29,O=t[21]<<3|t[20]>>>29,st=t[31]<<9|t[30]>>>23,ut=t[30]<<9|t[31]>>>23,G=t[40]<<18|t[41]>>>14,z=t[41]<<18|t[40]>>>14,R=t[2]<<1|t[3]>>>31,M=t[3]<<1|t[2]>>>31,y=t[13]<<12|t[12]>>>20,v=t[12]<<12|t[13]>>>20,K=t[22]<<10|t[23]>>>22,Z=t[23]<<10|t[22]>>>22,S=t[33]<<13|t[32]>>>19,C=t[32]<<13|t[33]>>>19,ct=t[42]<<2|t[43]>>>30,lt=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,nt=t[4]<<30|t[5]>>>2,j=t[14]<<6|t[15]>>>26,U=t[15]<<6|t[14]>>>26,w=t[25]<<11|t[24]>>>21,b=t[24]<<11|t[25]>>>21,Y=t[34]<<15|t[35]>>>17,X=t[35]<<15|t[34]>>>17,I=t[45]<<29|t[44]>>>3,P=t[44]<<29|t[45]>>>3,N=t[6]<<28|t[7]>>>4,A=t[7]<<28|t[6]>>>4,rt=t[17]<<23|t[16]>>>9,ot=t[16]<<23|t[17]>>>9,D=t[26]<<25|t[27]>>>7,q=t[27]<<25|t[26]>>>7,k=t[36]<<21|t[37]>>>11,_=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,J=t[8]<<27|t[9]>>>5,$=t[9]<<27|t[8]>>>5,T=t[18]<<20|t[19]>>>12,E=t[19]<<20|t[18]>>>12,it=t[29]<<7|t[28]>>>25,at=t[28]<<7|t[29]>>>25,L=t[38]<<8|t[39]>>>24,H=t[39]<<8|t[38]>>>24,x=t[48]<<14|t[49]>>>18,F=t[49]<<14|t[48]>>>18,t[0]=g^~y&w,t[1]=m^~v&b,t[10]=N^~T&B,t[11]=A^~E&O,t[20]=R^~j&D,t[21]=M^~U&q,t[30]=J^~W&K,t[31]=$^~V&Z,t[40]=et^~rt&it,t[41]=nt^~ot&at,t[2]=y^~w&k,t[3]=v^~b&_,t[12]=T^~B&S,t[13]=E^~O&C,t[22]=j^~D&L,t[23]=U^~q&H,t[32]=W^~K&Y,t[33]=V^~Z&X,t[42]=rt^~it&st,t[43]=ot^~at&ut,t[4]=w^~k&x,t[5]=b^~_&F,t[14]=B^~S&I,t[15]=O^~C&P,t[24]=D^~L&G,t[25]=q^~H&z,t[34]=K^~Y&Q,t[35]=Z^~X&tt,t[44]=it^~st&ct,t[45]=at^~ut&lt,t[6]=k^~x&g,t[7]=_^~F&m,t[16]=S^~I&N,t[17]=C^~P&A,t[26]=L^~G&R,t[27]=H^~z&M,t[36]=Y^~Q&J,t[37]=X^~tt&$,t[46]=st^~ct&et,t[47]=ut^~lt&nt,t[8]=x^~g&y,t[9]=F^~m&v,t[18]=I^~N&T,t[19]=P^~A&E,t[28]=G^~R&j,t[29]=z^~M&U,t[38]=Q^~J&W,t[39]=tt^~$&V,t[48]=ct^~et&rt,t[49]=lt^~nt&ot,t[0]^=l[r],t[1]^=l[r+1]};if(i)t.exports=x;else for(N=0;N<F.length;++N)r[F[N]]=x[F[N]]}()}));L.keccak_224,L.keccak224,L.keccak_256;var H=L.keccak256;L.keccak_384,L.keccak384,L.keccak_512,L.keccak512,L.sha3_224,L.sha3_256,L.sha3_384,L.sha3_512,L.shake_128,L.shake128,L.shake_256,L.shake256,L.cshake_128,L.cshake128,L.cshake_256,L.cshake256,L.kmac_128,L.kmac128,L.kmac_256,L.kmac256;var G=a((function(t){!function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,i=Math.floor,a="[BigNumber Error] ",s=a+"Number primitive has more than 15 significant digits: ",u=1e14,c=14,l=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,p=1e9;function d(t){var e=0|t;return t>0||t===e?e:e-1}function g(t){for(var e,n,r=1,o=t.length,i=t[0]+"";r<o;){for(e=t[r++]+"",n=c-e.length;n--;e="0"+e);i+=e}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function m(t,e){var n,r,o=t.c,i=e.c,a=t.s,s=e.s,u=t.e,c=e.e;if(!a||!s)return null;if(n=o&&!o[0],r=i&&!i[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=u==c,!o||!i)return r?0:!o^n?1:-1;if(!r)return u>c^n?1:-1;for(s=(u=o.length)<(c=i.length)?u:c,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^n?1:-1;return u==c?0:u>c^n?1:-1}function y(t,e,n,r){if(t<e||t>n||t!==i(t))throw Error(a+(r||"Argument")+("number"==typeof t?t<e||t>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function v(t){var e=t.c.length-1;return d(t.e/c)==e&&t.c[e]%2!=0}function w(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function b(t,e,n){var r,o;if(e<0){for(o=n+".";++e;o+=n);t=o+t}else if(++e>(r=t.length)){for(o=n,e-=r;--e;o+=n);t+=o}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}(n=function t(e){var n,k,_,x,F,N,A,T,E,B,O=G.prototype={constructor:G,toString:null,valueOf:null},S=new G(1),C=20,I=4,P=-7,R=21,M=-1e7,j=1e7,U=!1,D=1,q=0,L={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},H="0123456789abcdefghijklmnopqrstuvwxyz";function G(t,e){var n,o,a,u,f,h,p,d,g=this;if(!(g instanceof G))return new G(t,e);if(null==e){if(t&&!0===t._isBigNumber)return g.s=t.s,void(!t.c||t.e>j?g.c=g.e=null:t.e<M?g.c=[g.e=0]:(g.e=t.e,g.c=t.c.slice()));if((h="number"==typeof t)&&0*t==0){if(g.s=1/t<0?(t=-t,-1):1,t===~~t){for(u=0,f=t;f>=10;f/=10,u++);return void(u>j?g.c=g.e=null:(g.e=u,g.c=[t]))}d=String(t)}else{if(!r.test(d=String(t)))return _(g,d,h);g.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(u=d.indexOf("."))>-1&&(d=d.replace(".","")),(f=d.search(/e/i))>0?(u<0&&(u=f),u+=+d.slice(f+1),d=d.substring(0,f)):u<0&&(u=d.length)}else{if(y(e,2,H.length,"Base"),10==e)return W(g=new G(t),C+g.e+1,I);if(d=String(t),h="number"==typeof t){if(0*t!=0)return _(g,d,h,e);if(g.s=1/t<0?(d=d.slice(1),-1):1,G.DEBUG&&d.replace(/^0\.0*|\./,"").length>15)throw Error(s+t)}else g.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(n=H.slice(0,e),u=f=0,p=d.length;f<p;f++)if(n.indexOf(o=d.charAt(f))<0){if("."==o){if(f>u){u=p;continue}}else if(!a&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){a=!0,f=-1,u=0;continue}return _(g,String(t),h,e)}h=!1,(u=(d=k(d,e,10,g.s)).indexOf("."))>-1?d=d.replace(".",""):u=d.length}for(f=0;48===d.charCodeAt(f);f++);for(p=d.length;48===d.charCodeAt(--p););if(d=d.slice(f,++p)){if(p-=f,h&&G.DEBUG&&p>15&&(t>l||t!==i(t)))throw Error(s+g.s*t);if((u=u-f-1)>j)g.c=g.e=null;else if(u<M)g.c=[g.e=0];else{if(g.e=u,g.c=[],f=(u+1)%c,u<0&&(f+=c),f<p){for(f&&g.c.push(+d.slice(0,f)),p-=c;f<p;)g.c.push(+d.slice(f,f+=c));f=c-(d=d.slice(f)).length}else f-=p;for(;f--;d+="0");g.c.push(+d)}}else g.c=[g.e=0]}function z(t,e,n,r){var o,i,a,s,u;if(null==n?n=I:y(n,0,8),!t.c)return t.toString();if(o=t.c[0],a=t.e,null==e)u=g(t.c),u=1==r||2==r&&(a<=P||a>=R)?w(u,a):b(u,a,"0");else if(i=(t=W(new G(t),e,n)).e,s=(u=g(t.c)).length,1==r||2==r&&(e<=i||i<=P)){for(;s<e;u+="0",s++);u=w(u,i)}else if(e-=a,u=b(u,i,"0"),i+1>s){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=i-s)>0)for(i+1==s&&(u+=".");e--;u+="0");return t.s<0&&o?"-"+u:u}function J(t,e){for(var n,r=1,o=new G(t[0]);r<t.length;r++){if(!(n=new G(t[r])).s){o=n;break}e.call(o,n)&&(o=n)}return o}function $(t,e,n){for(var r=1,o=e.length;!e[--o];e.pop());for(o=e[0];o>=10;o/=10,r++);return(n=r+n*c-1)>j?t.c=t.e=null:n<M?t.c=[t.e=0]:(t.e=n,t.c=e),t}function W(t,e,n,r){var a,s,l,h,p,d,g,m=t.c,y=f;if(m){t:{for(a=1,h=m[0];h>=10;h/=10,a++);if((s=e-a)<0)s+=c,l=e,g=(p=m[d=0])/y[a-l-1]%10|0;else if((d=o((s+1)/c))>=m.length){if(!r)break t;for(;m.length<=d;m.push(0));p=g=0,a=1,l=(s%=c)-c+1}else{for(p=h=m[d],a=1;h>=10;h/=10,a++);g=(l=(s%=c)-c+a)<0?0:p/y[a-l-1]%10|0}if(r=r||e<0||null!=m[d+1]||(l<0?p:p%y[a-l-1]),r=n<4?(g||r)&&(0==n||n==(t.s<0?3:2)):g>5||5==g&&(4==n||r||6==n&&(s>0?l>0?p/y[a-l]:0:m[d-1])%10&1||n==(t.s<0?8:7)),e<1||!m[0])return m.length=0,r?(e-=t.e+1,m[0]=y[(c-e%c)%c],t.e=-e||0):m[0]=t.e=0,t;if(0==s?(m.length=d,h=1,d--):(m.length=d+1,h=y[c-s],m[d]=l>0?i(p/y[a-l]%y[l])*h:0),r)for(;;){if(0==d){for(s=1,l=m[0];l>=10;l/=10,s++);for(l=m[0]+=h,h=1;l>=10;l/=10,h++);s!=h&&(t.e++,m[0]==u&&(m[0]=1));break}if(m[d]+=h,m[d]!=u)break;m[d--]=0,h=1}for(s=m.length;0===m[--s];m.pop());}t.e>j?t.c=t.e=null:t.e<M&&(t.c=[t.e=0])}return t}function V(t){var e,n=t.e;return null===n?t.toString():(e=g(t.c),e=n<=P||n>=R?w(e,n):b(e,n,"0"),t.s<0?"-"+e:e)}return G.clone=t,G.ROUND_UP=0,G.ROUND_DOWN=1,G.ROUND_CEIL=2,G.ROUND_FLOOR=3,G.ROUND_HALF_UP=4,G.ROUND_HALF_DOWN=5,G.ROUND_HALF_EVEN=6,G.ROUND_HALF_CEIL=7,G.ROUND_HALF_FLOOR=8,G.EUCLID=9,G.config=G.set=function(t){var e,n;if(null!=t){if("object"!=typeof t)throw Error(a+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(y(n=t[e],0,p,e),C=n),t.hasOwnProperty(e="ROUNDING_MODE")&&(y(n=t[e],0,8,e),I=n),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((n=t[e])&&n.pop?(y(n[0],-p,0,e),y(n[1],0,p,e),P=n[0],R=n[1]):(y(n,-p,p,e),P=-(R=n<0?-n:n))),t.hasOwnProperty(e="RANGE"))if((n=t[e])&&n.pop)y(n[0],-p,-1,e),y(n[1],1,p,e),M=n[0],j=n[1];else{if(y(n,-p,p,e),!n)throw Error(a+e+" cannot be zero: "+n);M=-(j=n<0?-n:n)}if(t.hasOwnProperty(e="CRYPTO")){if((n=t[e])!==!!n)throw Error(a+e+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw U=!n,Error(a+"crypto unavailable");U=n}else U=n}if(t.hasOwnProperty(e="MODULO_MODE")&&(y(n=t[e],0,9,e),D=n),t.hasOwnProperty(e="POW_PRECISION")&&(y(n=t[e],0,p,e),q=n),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(n=t[e]))throw Error(a+e+" not an object: "+n);L=n}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(n=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(a+e+" invalid: "+n);H=n}}return{DECIMAL_PLACES:C,ROUNDING_MODE:I,EXPONENTIAL_AT:[P,R],RANGE:[M,j],CRYPTO:U,MODULO_MODE:D,POW_PRECISION:q,FORMAT:L,ALPHABET:H}},G.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!G.DEBUG)return!0;var e,n,r=t.c,o=t.e,s=t.s;t:if("[object Array]"=={}.toString.call(r)){if((1===s||-1===s)&&o>=-p&&o<=p&&o===i(o)){if(0===r[0]){if(0===o&&1===r.length)return!0;break t}if((e=(o+1)%c)<1&&(e+=c),String(r[0]).length==e){for(e=0;e<r.length;e++)if((n=r[e])<0||n>=u||n!==i(n))break t;if(0!==n)return!0}}}else if(null===r&&null===o&&(null===s||1===s||-1===s))return!0;throw Error(a+"Invalid BigNumber: "+t)},G.maximum=G.max=function(){return J(arguments,O.lt)},G.minimum=G.min=function(){return J(arguments,O.gt)},G.random=(x=9007199254740992,F=Math.random()*x&2097151?function(){return i(Math.random()*x)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,n,r,s,u,l=0,h=[],d=new G(S);if(null==t?t=C:y(t,0,p),s=o(t/c),U)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(s*=2));l<s;)(u=131072*e[l]+(e[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),e[l]=n[0],e[l+1]=n[1]):(h.push(u%1e14),l+=2);l=s/2}else{if(!crypto.randomBytes)throw U=!1,Error(a+"crypto unavailable");for(e=crypto.randomBytes(s*=7);l<s;)(u=281474976710656*(31&e[l])+1099511627776*e[l+1]+4294967296*e[l+2]+16777216*e[l+3]+(e[l+4]<<16)+(e[l+5]<<8)+e[l+6])>=9e15?crypto.randomBytes(7).copy(e,l):(h.push(u%1e14),l+=7);l=s/7}if(!U)for(;l<s;)(u=F())<9e15&&(h[l++]=u%1e14);for(s=h[--l],t%=c,s&&t&&(u=f[c-t],h[l]=i(s/u)*u);0===h[l];h.pop(),l--);if(l<0)h=[r=0];else{for(r=-1;0===h[0];h.splice(0,1),r-=c);for(l=1,u=h[0];u>=10;u/=10,l++);l<c&&(r-=c-l)}return d.e=r,d.c=h,d}),G.sum=function(){for(var t=1,e=arguments,n=new G(e[0]);t<e.length;)n=n.plus(e[t++]);return n},k=function(){var t="0123456789";function e(t,e,n,r){for(var o,i,a=[0],s=0,u=t.length;s<u;){for(i=a.length;i--;a[i]*=e);for(a[0]+=r.indexOf(t.charAt(s++)),o=0;o<a.length;o++)a[o]>n-1&&(null==a[o+1]&&(a[o+1]=0),a[o+1]+=a[o]/n|0,a[o]%=n)}return a.reverse()}return function(r,o,i,a,s){var u,c,l,f,h,p,d,m,y=r.indexOf("."),v=C,w=I;for(y>=0&&(f=q,q=0,r=r.replace(".",""),p=(m=new G(o)).pow(r.length-y),q=f,m.c=e(b(g(p.c),p.e,"0"),10,i,t),m.e=m.c.length),l=f=(d=e(r,o,i,s?(u=H,t):(u=t,H))).length;0==d[--f];d.pop());if(!d[0])return u.charAt(0);if(y<0?--l:(p.c=d,p.e=l,p.s=a,d=(p=n(p,m,v,w,i)).c,h=p.r,l=p.e),y=d[c=l+v+1],f=i/2,h=h||c<0||null!=d[c+1],h=w<4?(null!=y||h)&&(0==w||w==(p.s<0?3:2)):y>f||y==f&&(4==w||h||6==w&&1&d[c-1]||w==(p.s<0?8:7)),c<1||!d[0])r=h?b(u.charAt(1),-v,u.charAt(0)):u.charAt(0);else{if(d.length=c,h)for(--i;++d[--c]>i;)d[c]=0,c||(++l,d=[1].concat(d));for(f=d.length;!d[--f];);for(y=0,r="";y<=f;r+=u.charAt(d[y++]));r=b(r,l,u.charAt(0))}return r}}(),n=function(){function t(t,e,n){var r,o,i,a,s=0,u=t.length,c=e%h,l=e/h|0;for(t=t.slice();u--;)s=((o=c*(i=t[u]%h)+(r=l*i+(a=t[u]/h|0)*c)%h*h+s)/n|0)+(r/h|0)+l*a,t[u]=o%n;return s&&(t=[s].concat(t)),t}function e(t,e,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(t[o]!=e[o]){i=t[o]>e[o]?1:-1;break}return i}function n(t,e,n,r){for(var o=0;n--;)t[n]-=o,o=t[n]<e[n]?1:0,t[n]=o*r+t[n]-e[n];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(r,o,a,s,l){var f,h,p,g,m,y,v,w,b,k,_,x,F,N,A,T,E,B=r.s==o.s?1:-1,O=r.c,S=o.c;if(!(O&&O[0]&&S&&S[0]))return new G(r.s&&o.s&&(O?!S||O[0]!=S[0]:S)?O&&0==O[0]||!S?0*B:B/0:NaN);for(b=(w=new G(B)).c=[],B=a+(h=r.e-o.e)+1,l||(l=u,h=d(r.e/c)-d(o.e/c),B=B/c|0),p=0;S[p]==(O[p]||0);p++);if(S[p]>(O[p]||0)&&h--,B<0)b.push(1),g=!0;else{for(N=O.length,T=S.length,p=0,B+=2,(m=i(l/(S[0]+1)))>1&&(S=t(S,m,l),O=t(O,m,l),T=S.length,N=O.length),F=T,_=(k=O.slice(0,T)).length;_<T;k[_++]=0);E=S.slice(),E=[0].concat(E),A=S[0],S[1]>=l/2&&A++;do{if(m=0,(f=e(S,k,T,_))<0){if(x=k[0],T!=_&&(x=x*l+(k[1]||0)),(m=i(x/A))>1)for(m>=l&&(m=l-1),v=(y=t(S,m,l)).length,_=k.length;1==e(y,k,v,_);)m--,n(y,T<v?E:S,v,l),v=y.length,f=1;else 0==m&&(f=m=1),v=(y=S.slice()).length;if(v<_&&(y=[0].concat(y)),n(k,y,_,l),_=k.length,-1==f)for(;e(S,k,T,_)<1;)m++,n(k,T<_?E:S,_,l),_=k.length}else 0===f&&(m++,k=[0]);b[p++]=m,k[0]?k[_++]=O[F]||0:(k=[O[F]],_=1)}while((F++<N||null!=k[0])&&B--);g=null!=k[0],b[0]||b.splice(0,1)}if(l==u){for(p=1,B=b[0];B>=10;B/=10,p++);W(w,a+(w.e=p+h*c-1)+1,s,g)}else w.e=h,w.r=+g;return w}}(),N=/^(-?)0([xbo])(?=\w[\w.]*$)/i,A=/^([^.]+)\.$/,T=/^\.([^.]+)$/,E=/^-?(Infinity|NaN)$/,B=/^\s*\+(?=[\w.])|^\s+|\s+$/g,_=function(t,e,n,r){var o,i=n?e:e.replace(B,"");if(E.test(i))t.s=isNaN(i)?null:i<0?-1:1;else{if(!n&&(i=i.replace(N,(function(t,e,n){return o="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=o?t:e})),r&&(o=r,i=i.replace(A,"$1").replace(T,"0.$1")),e!=i))return new G(i,o);if(G.DEBUG)throw Error(a+"Not a"+(r?" base "+r:"")+" number: "+e);t.s=null}t.c=t.e=null},O.absoluteValue=O.abs=function(){var t=new G(this);return t.s<0&&(t.s=1),t},O.comparedTo=function(t,e){return m(this,new G(t,e))},O.decimalPlaces=O.dp=function(t,e){var n,r,o,i=this;if(null!=t)return y(t,0,p),null==e?e=I:y(e,0,8),W(new G(i),t+i.e+1,e);if(!(n=i.c))return null;if(r=((o=n.length-1)-d(this.e/c))*c,o=n[o])for(;o%10==0;o/=10,r--);return r<0&&(r=0),r},O.dividedBy=O.div=function(t,e){return n(this,new G(t,e),C,I)},O.dividedToIntegerBy=O.idiv=function(t,e){return n(this,new G(t,e),0,1)},O.exponentiatedBy=O.pow=function(t,e){var n,r,s,u,l,f,h,p,d=this;if((t=new G(t)).c&&!t.isInteger())throw Error(a+"Exponent not an integer: "+V(t));if(null!=e&&(e=new G(e)),l=t.e>14,!d.c||!d.c[0]||1==d.c[0]&&!d.e&&1==d.c.length||!t.c||!t.c[0])return p=new G(Math.pow(+V(d),l?2-v(t):+V(t))),e?p.mod(e):p;if(f=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new G(NaN);(r=!f&&d.isInteger()&&e.isInteger())&&(d=d.mod(e))}else{if(t.e>9&&(d.e>0||d.e<-1||(0==d.e?d.c[0]>1||l&&d.c[1]>=24e7:d.c[0]<8e13||l&&d.c[0]<=9999975e7)))return u=d.s<0&&v(t)?-0:0,d.e>-1&&(u=1/u),new G(f?1/u:u);q&&(u=o(q/c+2))}for(l?(n=new G(.5),f&&(t.s=1),h=v(t)):h=(s=Math.abs(+V(t)))%2,p=new G(S);;){if(h){if(!(p=p.times(d)).c)break;u?p.c.length>u&&(p.c.length=u):r&&(p=p.mod(e))}if(s){if(0===(s=i(s/2)))break;h=s%2}else if(W(t=t.times(n),t.e+1,1),t.e>14)h=v(t);else{if(0==(s=+V(t)))break;h=s%2}d=d.times(d),u?d.c&&d.c.length>u&&(d.c.length=u):r&&(d=d.mod(e))}return r?p:(f&&(p=S.div(p)),e?p.mod(e):u?W(p,q,I,void 0):p)},O.integerValue=function(t){var e=new G(this);return null==t?t=I:y(t,0,8),W(e,e.e+1,t)},O.isEqualTo=O.eq=function(t,e){return 0===m(this,new G(t,e))},O.isFinite=function(){return!!this.c},O.isGreaterThan=O.gt=function(t,e){return m(this,new G(t,e))>0},O.isGreaterThanOrEqualTo=O.gte=function(t,e){return 1===(e=m(this,new G(t,e)))||0===e},O.isInteger=function(){return!!this.c&&d(this.e/c)>this.c.length-2},O.isLessThan=O.lt=function(t,e){return m(this,new G(t,e))<0},O.isLessThanOrEqualTo=O.lte=function(t,e){return-1===(e=m(this,new G(t,e)))||0===e},O.isNaN=function(){return!this.s},O.isNegative=function(){return this.s<0},O.isPositive=function(){return this.s>0},O.isZero=function(){return!!this.c&&0==this.c[0]},O.minus=function(t,e){var n,r,o,i,a=this,s=a.s;if(e=(t=new G(t,e)).s,!s||!e)return new G(NaN);if(s!=e)return t.s=-e,a.plus(t);var l=a.e/c,f=t.e/c,h=a.c,p=t.c;if(!l||!f){if(!h||!p)return h?(t.s=-e,t):new G(p?a:NaN);if(!h[0]||!p[0])return p[0]?(t.s=-e,t):new G(h[0]?a:3==I?-0:0)}if(l=d(l),f=d(f),h=h.slice(),s=l-f){for((i=s<0)?(s=-s,o=h):(f=l,o=p),o.reverse(),e=s;e--;o.push(0));o.reverse()}else for(r=(i=(s=h.length)<(e=p.length))?s:e,s=e=0;e<r;e++)if(h[e]!=p[e]){i=h[e]<p[e];break}if(i&&(o=h,h=p,p=o,t.s=-t.s),(e=(r=p.length)-(n=h.length))>0)for(;e--;h[n++]=0);for(e=u-1;r>s;){if(h[--r]<p[r]){for(n=r;n&&!h[--n];h[n]=e);--h[n],h[r]+=u}h[r]-=p[r]}for(;0==h[0];h.splice(0,1),--f);return h[0]?$(t,h,f):(t.s=3==I?-1:1,t.c=[t.e=0],t)},O.modulo=O.mod=function(t,e){var r,o,i=this;return t=new G(t,e),!i.c||!t.s||t.c&&!t.c[0]?new G(NaN):!t.c||i.c&&!i.c[0]?new G(i):(9==D?(o=t.s,t.s=1,r=n(i,t,0,3),t.s=o,r.s*=o):r=n(i,t,0,D),(t=i.minus(r.times(t))).c[0]||1!=D||(t.s=i.s),t)},O.multipliedBy=O.times=function(t,e){var n,r,o,i,a,s,l,f,p,g,m,y,v,w,b,k=this,_=k.c,x=(t=new G(t,e)).c;if(!(_&&x&&_[0]&&x[0]))return!k.s||!t.s||_&&!_[0]&&!x||x&&!x[0]&&!_?t.c=t.e=t.s=null:(t.s*=k.s,_&&x?(t.c=[0],t.e=0):t.c=t.e=null),t;for(r=d(k.e/c)+d(t.e/c),t.s*=k.s,(l=_.length)<(g=x.length)&&(v=_,_=x,x=v,o=l,l=g,g=o),o=l+g,v=[];o--;v.push(0));for(w=u,b=h,o=g;--o>=0;){for(n=0,m=x[o]%b,y=x[o]/b|0,i=o+(a=l);i>o;)n=((f=m*(f=_[--a]%b)+(s=y*f+(p=_[a]/b|0)*m)%b*b+v[i]+n)/w|0)+(s/b|0)+y*p,v[i--]=f%w;v[i]=n}return n?++r:v.splice(0,1),$(t,v,r)},O.negated=function(){var t=new G(this);return t.s=-t.s||null,t},O.plus=function(t,e){var n,r=this,o=r.s;if(e=(t=new G(t,e)).s,!o||!e)return new G(NaN);if(o!=e)return t.s=-e,r.minus(t);var i=r.e/c,a=t.e/c,s=r.c,l=t.c;if(!i||!a){if(!s||!l)return new G(o/0);if(!s[0]||!l[0])return l[0]?t:new G(s[0]?r:0*o)}if(i=d(i),a=d(a),s=s.slice(),o=i-a){for(o>0?(a=i,n=l):(o=-o,n=s),n.reverse();o--;n.push(0));n.reverse()}for((o=s.length)-(e=l.length)<0&&(n=l,l=s,s=n,e=o),o=0;e;)o=(s[--e]=s[e]+l[e]+o)/u|0,s[e]=u===s[e]?0:s[e]%u;return o&&(s=[o].concat(s),++a),$(t,s,a)},O.precision=O.sd=function(t,e){var n,r,o,i=this;if(null!=t&&t!==!!t)return y(t,1,p),null==e?e=I:y(e,0,8),W(new G(i),t,e);if(!(n=i.c))return null;if(r=(o=n.length-1)*c+1,o=n[o]){for(;o%10==0;o/=10,r--);for(o=n[0];o>=10;o/=10,r++);}return t&&i.e+1>r&&(r=i.e+1),r},O.shiftedBy=function(t){return y(t,-9007199254740991,l),this.times("1e"+t)},O.squareRoot=O.sqrt=function(){var t,e,r,o,i,a=this,s=a.c,u=a.s,c=a.e,l=C+4,f=new G("0.5");if(1!==u||!s||!s[0])return new G(!u||u<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(u=Math.sqrt(+V(a)))||u==1/0?(((e=g(s)).length+c)%2==0&&(e+="0"),u=Math.sqrt(+e),c=d((c+1)/2)-(c<0||c%2),r=new G(e=u==1/0?"5e"+c:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+c)):r=new G(u+""),r.c[0])for((u=(c=r.e)+l)<3&&(u=0);;)if(i=r,r=f.times(i.plus(n(a,i,l,1))),g(i.c).slice(0,u)===(e=g(r.c)).slice(0,u)){if(r.e<c&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(o||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(W(r,r.e+C+2,1),t=!r.times(r).eq(a));break}if(!o&&(W(i,i.e+C+2,0),i.times(i).eq(a))){r=i;break}l+=4,u+=4,o=1}return W(r,r.e+C+1,I,t)},O.toExponential=function(t,e){return null!=t&&(y(t,0,p),t++),z(this,t,e,1)},O.toFixed=function(t,e){return null!=t&&(y(t,0,p),t=t+this.e+1),z(this,t,e)},O.toFormat=function(t,e,n){var r,o=this;if(null==n)null!=t&&e&&"object"==typeof e?(n=e,e=null):t&&"object"==typeof t?(n=t,t=e=null):n=L;else if("object"!=typeof n)throw Error(a+"Argument not an object: "+n);if(r=o.toFixed(t,e),o.c){var i,s=r.split("."),u=+n.groupSize,c=+n.secondaryGroupSize,l=n.groupSeparator||"",f=s[0],h=s[1],p=o.s<0,d=p?f.slice(1):f,g=d.length;if(c&&(i=u,u=c,c=i,g-=i),u>0&&g>0){for(i=g%u||u,f=d.substr(0,i);i<g;i+=u)f+=l+d.substr(i,u);c>0&&(f+=l+d.slice(i)),p&&(f="-"+f)}r=h?f+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?h.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):h):f}return(n.prefix||"")+r+(n.suffix||"")},O.toFraction=function(t){var e,r,o,i,s,u,l,h,p,d,m,y,v=this,w=v.c;if(null!=t&&(!(l=new G(t)).isInteger()&&(l.c||1!==l.s)||l.lt(S)))throw Error(a+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+V(l));if(!w)return new G(v);for(e=new G(S),p=r=new G(S),o=h=new G(S),y=g(w),s=e.e=y.length-v.e-1,e.c[0]=f[(u=s%c)<0?c+u:u],t=!t||l.comparedTo(e)>0?s>0?e:p:l,u=j,j=1/0,l=new G(y),h.c[0]=0;d=n(l,e,0,1),1!=(i=r.plus(d.times(o))).comparedTo(t);)r=o,o=i,p=h.plus(d.times(i=p)),h=i,e=l.minus(d.times(i=e)),l=i;return i=n(t.minus(r),o,0,1),h=h.plus(i.times(p)),r=r.plus(i.times(o)),h.s=p.s=v.s,m=n(p,o,s*=2,I).minus(v).abs().comparedTo(n(h,r,s,I).minus(v).abs())<1?[p,o]:[h,r],j=u,m},O.toNumber=function(){return+V(this)},O.toPrecision=function(t,e){return null!=t&&y(t,1,p),z(this,t,e,2)},O.toString=function(t){var e,n=this,r=n.s,o=n.e;return null===o?r?(e="Infinity",r<0&&(e="-"+e)):e="NaN":(null==t?e=o<=P||o>=R?w(g(n.c),o):b(g(n.c),o,"0"):10===t?e=b(g((n=W(new G(n),C+o+1,I)).c),n.e,"0"):(y(t,2,H.length,"Base"),e=k(b(g(n.c),o,"0"),10,t,r,!0)),r<0&&n.c[0]&&(e="-"+e)),e},O.valueOf=O.toJSON=function(){return V(this)},O._isBigNumber=!0,null!=e&&G.set(e),G}()).default=n.BigNumber=n,t.exports?t.exports=n:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=n)}(this)})).BigNumber,z={ROUNDING_MODE:G.ROUND_DOWN};function J(t){return(new TextEncoder).encode(t)}function $(t){return"string"==typeof t?$(K(t)):(new TextDecoder).decode(t)}G.config(z);var W="INVALID_ARGUMENT";function V(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"UNKNOWN_ERROR",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[];Object.keys(n).forEach((function(t){try{r.push(t+"="+JSON.stringify(n[t]))}catch(e){r.push(t+"="+JSON.stringify(n[t].toString()))}}));var o=t;r.length&&(t+=" ("+r.join(", ")+")");var i=new Error(t);return i.reason=o,i.code=e,Object.keys(n).forEach((function(t){i[t]=n[t]})),i}function K(t){if("string"!=typeof t)throw new Error("hexToBytes only accept strings, got: "+typeof t);if("0x"===t.substr(0,2))return K(t.substr(2));for(var e=new Uint8Array(Math.ceil(t.length/2)),n=0,r=0;r<t.length;r+=2){var o=parseInt(t.substr(r,2),16);if(isNaN(o))throw new Error("Cannot read hex string:"+JSON.stringify(t));e[n]=o,n++}return e}function Z(t){return Array.from(t).map((function(t){return t.toString(16).padStart(2,"0")})).join("")}function Y(t,e){if("string"==typeof t){if(e&&"hex"===e.encoding&&"string"==typeof t){var n=t;n.length>2&&"0x"===n.substr(0,2)&&(n=n.substr(2));var r=K(n);return H(r)}return H(J(t))}return H(t)}var X,Q,tt={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function et(t,e,n){return new Array(e-t.length+1).join(n||"0")+t}function nt(t){return Ot(t)&&t.name&&-1!==t.name.indexOf("(")?t.name:t.name+"("+ot(!1,t.inputs||[]).join(",")+")"}function rt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.reduce((function(t,e){return t+e.length}),0),o=new Uint8Array(r),i=0,a=0,s=e;a<s.length;a++){var u=s[a];o.set(u,i),i+=u.length}return o}function ot(t,e){var n=[];return e.forEach((function(e){if("object"==typeof e.components){if("tuple"!==e.type.substring(0,5))throw new Error("components found but type is not tuple; report on GitHub");var r="",o=e.type.indexOf("[");o>=0&&(r=e.type.substring(o));var i=ot(t,e.components);Ct(i)&&t?n.push("tuple("+i.join(",")+")"+r):t?n.push("("+i+")"):n.push("("+i.join(",")+")"+r)}else n.push(e.type)})),n}function it(t){var e=t.indexOf("("),n=t.indexOf(")");return-1!==e&&-1!==n?t.substr(0,e):t}function at(t){var e=t.indexOf("("),n=t.indexOf(")");return-1!==e&&-1!==n?t.substr(e+1,n-e-1).replace(" ",""):""}function st(t){return null==t?t:mt(t).toNumber()}function ut(t){return mt(t).toNumber()}function ct(t){return Et(t)?t.toString(10):""+t}function lt(t){return"string"==typeof t&&!t.startsWith("0x")&&/^[A-Za-z0-9]+$/.test(t)?"0x"+t:dt(t)}function ft(t){if("string"==typeof t)return t.startsWith("0x")&&/^[A-Za-z0-9]+$/.test(t)?dt(t):"0x"+Z(J(t));if(t instanceof Uint8Array)return"0x"+Z(t);throw new Error("toStringData: Error trying to convert ".concat(t," (").concat(typeof t,") to a hex string."))}function ht(t){return"boolean"==typeof t?t:0!==mt(t).toNumber()}function pt(t){var e=mt(t),n=e.toString(16);return e.isLessThan(0)?"-0x"+n.substr(1):"0x"+n}function dt(t){if(St(t))return pt(+t);if(Et(t))return pt(t);if(Bt(t)){var e=t;if(0===e.indexOf("-0x"))return pt(e);if(0===e.indexOf("0x"))return e;if(!isFinite(e))return Z(J(e))}if(t instanceof Uint8Array)return"0x"+Z(t);if(Ct(t)||Ot(t))throw new Error("toHex can only be called with scalar values, not objects or arrays");return pt(t)}function gt(t){var e=t?t.toLowerCase():"ether",n=tt[e];if(void 0===n)throw new Error("This unit doesn't exists, please use the one of the following units"+JSON.stringify(tt,null,2));return new G(n,10)}function mt(t){var e=t||0;return Et(e)?e:("string"==typeof e&&(e=e.trim()),"string"!=typeof e||0!==e.indexOf("0x")&&0!==e.indexOf("-0x")?e instanceof Uint8Array?new G(Z(e),16):new G(e,10):new G(e.replace("0x","").toLowerCase(),16))}function yt(t){return new G(new Array(t).fill("1").join(""),2)}function vt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,n=mt(t).integerValue();return n.isLessThan(0)?yt(e).plus(n).plus(1):n}function wt(t,e){return"1"==et(t.toString(2),e,"0")[0]}function bt(t){if("string"!=typeof t)throw V("invalid address",W,{arg:"address",value:t});if(t.trim().match(/^(0x)?[0-9a-fA-F]{40}$/))return"0x"!==t.trim().substring(0,2)&&(t="0x"+t),Nt(t);throw V("invalid address",W,{arg:"address",value:t})}function kt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256;if(wt(t,e)){var n=yt(e);return t.minus(n).minus(1)}return t}function _t(t){return/^0x[0-9a-f]{40}$/i.test(t)}function xt(t){return!!/^(0x)?[0-9a-f]{40}$/i.test(t)&&(!(!/^(0x)?[0-9a-f]{40}$/.test(t)&&!/^(0x)?[0-9A-F]{40}$/.test(t))||Ft(t))}function Ft(t){for(var e=t.replace("0x",""),n=Y(e.toLowerCase()),r=0;r<40;r++)if(parseInt(n[r],16)>7&&e[r].toUpperCase()!==e[r]||parseInt(n[r],16)<=7&&e[r].toLowerCase()!==e[r])return!1;return!0}function Nt(t){if(void 0===t)return"";for(var e=t.toLowerCase().replace("0x",""),n=Y(e),r="0x",o=0;o<e.length;o++)parseInt(n[o],16)>7?r+=e[o].toUpperCase():r+=e[o];return r}function At(t){if(!Array.isArray(t))throw new Error("Value was not an array: ".concat(JSON.stringify(t)));return t}function Tt(t){return _t(t)?t:/^[0-9a-f]{40}$/.test(t)?"0x"+t:"0x"+et(dt(t).substr(2),40)}function Et(t){return t instanceof G}function Bt(t){return"string"==typeof t||t&&t.constructor&&"String"===t.constructor.name}function Ot(t){return null!==t&&!Array.isArray(t)&&"object"==typeof t}function St(t){return"boolean"==typeof t}function Ct(t){return Array.isArray(t)}function It(e,n){if(!e)throw new Error("jsonrpc method should be specified!");if("string"!=typeof e)throw new Error("jsonrpc must be a string, got ".concat(typeof e,"!"));return t.messageId++,{jsonrpc:"2.0",id:t.messageId,method:e,params:n||[]}}function Pt(t){return Array.isArray(t)?t.every(e):e(t);function e(t){return!(!t||"error"in t||"2.0"!==t.jsonrpc||"number"!=typeof t.id||null==t.result&&void 0===t.result)}}function Rt(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function Mt(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function jt(t){return mt(t)}function Ut(t){return void 0===t?"latest":Dt(t)}function Dt(t){return void 0===t||null==t?null:function(t){return"latest"===t||"pending"===t||"earliest"===t}(t)?t:dt(t)}function qt(t){return t.from=t.from,t.from&&(t.from=Wt(t.from)),t.to&&(t.to=Wt(t.to)),void 0!==t.gasPrice&&(t.gasPrice=pt(t.gasPrice)),void 0!==t.gas&&(t.gas=pt(t.gas)),void 0!==t.value&&(t.value=pt(t.value)),void 0!==t.nonce&&(t.nonce=pt(t.nonce)),t.data&&!t.data.startsWith("0x")&&/^[A-Za-z0-9]+$/.test(t.data)&&(t.data="0x"+t.data),t}function Lt(t){if("string"!=typeof t)throw new Error("The provided input for transactionId is not a string, got: "+JSON.stringify(t));if(0!==t.indexOf("0x"))throw new Error("TransactionID must start with 0x, got: "+JSON.stringify(t));if(66!==t.length)throw new Error("TransactionID must be a 32 byte hex, got: "+JSON.stringify(t));return t}function Ht(t){if("object"!=typeof t)throw new Error("Did not provide transaction options");if(!t.from)throw new Error('Missing "from" in transaction options');return t.from=Wt(t.from),t.to&&(t.to=Wt(t.to)),void 0!==t.gasPrice&&(t.gasPrice=pt(t.gasPrice)),void 0!==t.gas&&(t.gas=pt(t.gas)),void 0!==t.value&&(t.value=pt(t.value)),void 0!==t.nonce&&(t.nonce=pt(t.nonce)),t.data&&!t.data.startsWith("0x")&&/^[A-Za-z0-9]+$/.test(t.data)&&(t.data="0x"+t.data),t}function Gt(t){return t?(null!==t.blockNumber&&(t.blockNumber=ut(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=ut(t.transactionIndex)),t.nonce=ut(t.nonce),t.gas=ut(t.gas),t.gasPrice=mt(t.gasPrice),t.value=mt(t.value),t):null}function zt(t){return t?(null!==t.blockNumber&&(t.blockNumber=ut(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=ut(t.transactionIndex)),t.cumulativeGasUsed=ut(t.cumulativeGasUsed),t.gasUsed=ut(t.gasUsed),t.logs&&Ct(t.logs)&&(t.logs=t.logs.map((function(t){return $t(t)}))),t.status=ut(t.status||""),t):null}function Jt(t){return t?(t.gasLimit=ut(t.gasLimit),t.gasUsed=ut(t.gasUsed),t.size=ut(t.size),t.timestamp=ut(t.timestamp),null!==t.number&&(t.number=ut(t.number)),t.difficulty=mt(t.difficulty),t.totalDifficulty=mt(t.totalDifficulty),Ct(t.transactions)&&t.transactions.forEach((function(e,n){Bt(e)||(t.transactions[n]=Gt(e)||t.transactions[n])})),t):null}function $t(t){return t?(t.blockNumber&&(t.blockNumber=ut(t.blockNumber)),t.transactionIndex&&(t.transactionIndex=ut(t.transactionIndex)),t.logIndex&&(t.logIndex=ut(t.logIndex)),t):t}function Wt(t){if(_t(t))return t;if(xt(t))return"0x"+t;throw new Error("Invalid address: ".concat(JSON.stringify(t)))}function Vt(t){return t}function Kt(t){return t?(t.startingBlock=ut(t.startingBlock),t.currentBlock=ut(t.currentBlock),t.highestBlock=ut(t.highestBlock),t.knownStates&&(t.knownStates=ut(t.knownStates),t.pulledStates=ut(t.pulledStates)),t):t}t.TransactionStatus=void 0,(X=t.TransactionStatus||(t.TransactionStatus={})).pending="pending",X.confirmed="confirmed",X.failed="failed",t.TransactionType=void 0,(Q=t.TransactionType||(t.TransactionType={})).queued="queued",Q.dropped="dropped",Q.replaced="replaced",Q.pending="pending",Q.reverted="reverted",Q.confirmed="confirmed",t.messageId=0;var Zt,Yt=function(){function t(e){f(this,t),this.callName=e.callName,this.params=e.params||0,this.inputFormatter=e.inputFormatter||null,this.outputFormatter=e.outputFormatter}return h(t,[{key:"validateArgs",value:function(t){if(t.length!==this.params)throw e=this.callName,n=t.length,r=this.params,new Error('Invalid number of input parameters to RPC method "'.concat(e,'" given: ').concat(n,", expected: ").concat(r));var e,n,r}},{key:"formatInput",value:function(t){return this.inputFormatter?this.inputFormatter.map((function(e,n){return e?e(t[n]):t[n]})):t}},{key:"formatOutput",value:function(t){return null!==t?this.outputFormatter(t):null}},{key:"toPayload",value:function(t){var e=this.formatInput(t);return this.validateArgs(e),{method:this.callName,params:e}}},{key:"execute",value:function(){var t=l(c.mark((function t(e){var n,r,o,i,a,s=arguments;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=s.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=s[o];if(i=this.toPayload(r),e){t.next=4;break}throw new Error("Missing RequestManager in method#exec");case 4:return t.next=6,e.sendAsync(i);case 6:return a=t.sent,t.abrupt("return",this.formatOutput(a));case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),Xt=function(){function t(e){f(this,t),this.getter=e.getter,this.outputFormatter=e.outputFormatter}return h(t,[{key:"formatOutput",value:function(t){return this.outputFormatter(t)}},{key:"execute",value:function(){var t=l(c.mark((function t(e){var n;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendAsync({method:this.getter,params:[]});case 2:return n=t.sent,t.abrupt("return",this.formatOutput(n));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}();function Qt(t){return new Promise((function(e){return setTimeout(e,t)}))}function te(e,n){var r=t.eth[n];if(!r)throw new Error("Could not find the method/property named ".concat(n.toString()));Object.defineProperty(e,n,{value:function(){return r.execute.apply(r,[this].concat(Array.prototype.slice.call(arguments)))}})}t.eth=void 0,(Zt=t.eth||(t.eth={})).eth_getBalance=new Yt({callName:"eth_getBalance",params:2,inputFormatter:[Wt,Ut],outputFormatter:jt}),Zt.eth_getStorageAt=new Yt({callName:"eth_getStorageAt",params:3,inputFormatter:[Wt,dt,Ut],outputFormatter:lt}),Zt.eth_getCode=new Yt({callName:"eth_getCode",params:2,inputFormatter:[Wt,Ut],outputFormatter:lt}),Zt.eth_getBlockByHash=new Yt({callName:"eth_getBlockByHash",params:2,inputFormatter:[Dt,function(t){return!!t}],outputFormatter:Jt}),Zt.eth_getBlockByNumber=new Yt({callName:"eth_getBlockByNumber",params:2,inputFormatter:[Dt,function(t){return!!t}],outputFormatter:Jt}),Zt.eth_getUncleByBlockHashAndIndex=new Yt({callName:"eth_getUncleByBlockHashAndIndex",params:2,inputFormatter:[Dt,dt],outputFormatter:Jt}),Zt.eth_getUncleByBlockNumberAndIndex=new Yt({callName:"eth_getUncleByBlockNumberAndIndex",params:2,inputFormatter:[Dt,dt],outputFormatter:Jt}),Zt.eth_getBlockTransactionCountByHash=new Yt({callName:"eth_getBlockTransactionCountByHash",params:1,inputFormatter:[Dt],outputFormatter:ut}),Zt.eth_getBlockTransactionCountByNumber=new Yt({callName:"eth_getBlockTransactionCountByNumber",params:1,inputFormatter:[Dt],outputFormatter:ut}),Zt.eth_getUncleCountByBlockHash=new Yt({callName:"eth_getUncleCountByBlockHash",params:1,inputFormatter:[Dt],outputFormatter:ut}),Zt.eth_getUncleCountByBlockNumber=new Yt({callName:"eth_getUncleCountByBlockNumber",params:1,inputFormatter:[Dt],outputFormatter:ut}),Zt.eth_getTransactionByHash=new Yt({callName:"eth_getTransactionByHash",params:1,inputFormatter:[Lt],outputFormatter:Gt}),Zt.eth_getTransactionByBlockHashAndIndex=new Yt({callName:"eth_getTransactionByBlockHashAndIndex",params:2,inputFormatter:[Dt,dt],outputFormatter:Gt}),Zt.eth_getTransactionByBlockNumberAndIndex=new Yt({callName:"eth_getTransactionByBlockNumberAndIndex",params:2,inputFormatter:[Dt,dt],outputFormatter:Gt}),Zt.eth_getTransactionReceipt=new Yt({callName:"eth_getTransactionReceipt",params:1,inputFormatter:[Lt],outputFormatter:zt}),Zt.eth_getTransactionCount=new Yt({callName:"eth_getTransactionCount",params:2,inputFormatter:[Wt,Ut],outputFormatter:ut}),Zt.eth_sendRawTransaction=new Yt({callName:"eth_sendRawTransaction",params:1,inputFormatter:[null],outputFormatter:lt}),Zt.web3_sha3=new Yt({callName:"web3_sha3",params:1,inputFormatter:[null],outputFormatter:lt}),Zt.eth_sendTransaction=new Yt({callName:"eth_sendTransaction",params:1,inputFormatter:[Ht],outputFormatter:lt}),Zt.eth_sign=new Yt({callName:"eth_sign",params:2,inputFormatter:[Wt,null],outputFormatter:lt}),Zt.eth_call=new Yt({callName:"eth_call",params:2,inputFormatter:[qt,Ut],outputFormatter:lt}),Zt.eth_estimateGas=new Yt({callName:"eth_estimateGas",params:1,inputFormatter:[qt],outputFormatter:ut}),Zt.eth_submitWork=new Yt({callName:"eth_submitWork",params:3,inputFormatter:[null,null,null],outputFormatter:ht}),Zt.eth_getWork=new Yt({callName:"eth_getWork",params:0,inputFormatter:[],outputFormatter:At}),Zt.eth_coinbase=new Xt({getter:"eth_coinbase",outputFormatter:Tt}),Zt.eth_mining=new Xt({getter:"eth_mining",outputFormatter:ht}),Zt.eth_hashrate=new Xt({getter:"eth_hashrate",outputFormatter:ut}),Zt.eth_syncing=new Xt({getter:"eth_syncing",outputFormatter:Kt}),Zt.eth_gasPrice=new Xt({getter:"eth_gasPrice",outputFormatter:jt}),Zt.eth_accounts=new Xt({getter:"eth_accounts",outputFormatter:At}),Zt.eth_blockNumber=new Xt({getter:"eth_blockNumber",outputFormatter:ut}),Zt.eth_protocolVersion=new Xt({getter:"eth_protocolVersion",outputFormatter:ut}),Zt.web3_clientVersion=new Xt({getter:"web3_clientVersion",outputFormatter:ct}),Zt.net_version=new Xt({getter:"net_version",outputFormatter:ct}),Zt.shh_version=new Yt({callName:"shh_version",params:0,inputFormatter:[],outputFormatter:ut}),Zt.shh_post=new Yt({callName:"shh_post",params:1,inputFormatter:[null],outputFormatter:ht}),Zt.personal_newAccount=new Yt({callName:"personal_newAccount",params:1,inputFormatter:[null],outputFormatter:Tt}),Zt.personal_importRawKey=new Yt({callName:"personal_importRawKey",params:2,inputFormatter:[null,null],outputFormatter:Tt}),Zt.personal_sign=new Yt({callName:"personal_sign",params:3,inputFormatter:[ft,Wt,null],outputFormatter:lt}),Zt.personal_ecRecover=new Yt({callName:"personal_ecRecover",params:2,inputFormatter:[ft,null],outputFormatter:Tt}),Zt.personal_unlockAccount=new Yt({callName:"personal_unlockAccount",params:3,inputFormatter:[Wt,null,st],outputFormatter:ht}),Zt.personal_sendTransaction=new Yt({callName:"personal_sendTransaction",params:2,inputFormatter:[Ht,null],outputFormatter:lt}),Zt.personal_lockAccount=new Yt({callName:"personal_lockAccount",params:1,inputFormatter:[Wt],outputFormatter:ht}),Zt.personal_listAccounts=new Xt({getter:"personal_listAccounts",outputFormatter:At}),Zt.net_listening=new Xt({getter:"net_listening",outputFormatter:ht}),Zt.net_peerCount=new Xt({getter:"net_peerCount",outputFormatter:ut}),Zt.eth_newFilter=new Yt({callName:"eth_newFilter",params:1,inputFormatter:[Vt],outputFormatter:dt}),Zt.eth_getLogs=new Yt({callName:"eth_getLogs",params:1,inputFormatter:[dt],outputFormatter:At}),Zt.eth_newBlockFilter=new Yt({callName:"eth_newBlockFilter",params:0,inputFormatter:[],outputFormatter:dt}),Zt.eth_newPendingTransactionFilter=new Yt({callName:"eth_newPendingTransactionFilter",params:0,inputFormatter:[],outputFormatter:dt}),Zt.eth_uninstallFilter=new Yt({callName:"eth_uninstallFilter",params:1,inputFormatter:[dt],outputFormatter:ht}),Zt.eth_getFilterLogs=new Yt({callName:"eth_getFilterLogs",params:1,inputFormatter:[dt],outputFormatter:At}),Zt.eth_getFilterChanges=new Yt({callName:"eth_getFilterChanges",params:1,inputFormatter:[dt],outputFormatter:At}),Zt.eth_submitHashrate=new Yt({callName:"eth_submitHashrate",params:2,inputFormatter:[null,null],outputFormatter:ht}),Zt.shh_newIdentity=new Yt({callName:"shh_newIdentity",params:0,inputFormatter:[],outputFormatter:lt}),Zt.shh_hasIdentity=new Yt({callName:"shh_hasIdentity",params:1,inputFormatter:[null],outputFormatter:ht}),Zt.shh_newGroup=new Yt({callName:"shh_newGroup",params:0,inputFormatter:[],outputFormatter:lt}),Zt.shh_addToGroup=new Yt({callName:"shh_addToGroup",params:1,inputFormatter:[null],outputFormatter:ht}),Zt.shh_newFilter=new Yt({callName:"shh_newFilter",params:1,inputFormatter:[null],outputFormatter:dt}),Zt.shh_uninstallFilter=new Yt({callName:"shh_uninstallFilter",params:1,inputFormatter:[null],outputFormatter:ht}),Zt.shh_getLogs=new Yt({callName:"shh_getLogs",params:1,inputFormatter:[null],outputFormatter:At}),Zt.shh_getFilterMessages=new Yt({callName:"shh_getFilterMessages",params:1,inputFormatter:[null],outputFormatter:At}),Zt.shh_getFilterChanges=new Yt({callName:"shh_getFilterChanges",params:1,inputFormatter:[null],outputFormatter:At}),Zt.shh_getMessages=new Yt({callName:"shh_getMessages",params:1,inputFormatter:[null],outputFormatter:At});var ee=function(){function e(t){f(this,e),this.provider=t,this.requests=new Map}return h(e,[{key:"sendAsync",value:function(){var t=l(c.mark((function t(e){var n,r,o,i=this;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.provider;case 2:if(n=t.sent){t.next=5;break}throw new Error("Provider not set or invalid");case 5:return r=It(e.method,e.params),o=g(),t.abrupt("return",(this.requests.set(r.id,o),n.sendAsync(r,(function(t,e){i.requests.delete(r.id),t?o.reject(t):Pt(e)?o.resolve(e.result):o.reject(function(t){var e=t&&t.error&&t.error.message?t.error.message:"Invalid JSON RPC response: "+JSON.stringify(t);return new Error(e)}(e))})),o));case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"setProvider",value:function(t){this.provider=t}},{key:"getConfirmedTransaction",value:function(){var t=l(c.mark((function t(e){var n;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.waitForCompletion(e);case 2:if(n=t.sent,!this.isFailure(n)){t.next=5;break}throw new Error('Transaction "'.concat(e,'" failed'));case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"waitForCompletion",value:function(){var e=l(c.mark((function e(n,r){var o,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Lt(n),e.next=3,this.isTxDropped(o,r);case 3:if(!e.sent){e.next=8;break}return e.next=6,this.getTransactionAndReceipt(o);case 6:return i=e.sent,e.abrupt("return",Object.assign(Object.assign({},i),{status:t.TransactionStatus.failed}));case 8:return e.next=10,this.getTransactionAndReceipt(o);case 10:if(a=e.sent,this.isPending(a)||!a.receipt){e.next=13;break}return e.abrupt("return",Object.assign(Object.assign({},a),{status:this.isFailure(a)?t.TransactionStatus.failed:t.TransactionStatus.confirmed}));case 13:return e.next=15,Qt(2e3);case 15:e.next=8;break;case 17:case"end":return e.stop()}}),e,this)})));function n(t,n){return e.apply(this,arguments)}return n}()},{key:"getTransaction",value:function(){var e=l(c.mark((function e(n){var r,o,i,a,s;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null,i=Lt(n),e.prev=2,e.next=5,this.eth_accounts();case 5:if(a=e.sent[0],e.t0=a,!e.t0){e.next=11;break}return e.next=10,this.eth_getTransactionCount(a,"latest");case 10:o=e.sent;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(2),o=null;case 16:return e.prev=16,e.next=19,this.eth_getTransactionByHash(i);case 19:if(null!=(r=e.sent)){e.next=22;break}return e.abrupt("return",null);case 22:e.next=27;break;case 24:return e.prev=24,e.t2=e.catch(16),e.abrupt("return",null);case 27:if(null!=r.blockNumber){e.next=34;break}if(null==o){e.next=33;break}if(!(r.nonce<o)){e.next=31;break}return e.abrupt("return",{hash:i,type:t.TransactionType.replaced,nonce:r.nonce});case 31:if(!(r.nonce>o)){e.next=33;break}return e.abrupt("return",{hash:i,type:t.TransactionType.queued,nonce:r.nonce});case 33:return e.abrupt("return",Object.assign({type:t.TransactionType.pending},r));case 34:return e.prev=34,e.next=37,this.eth_getTransactionReceipt(i);case 37:if(null!=(s=e.sent)&&0!==s.status){e.next=40;break}return e.abrupt("return",Object.assign({type:t.TransactionType.reverted},r));case 40:e.next=45;break;case 42:return e.prev=42,e.t3=e.catch(34),e.abrupt("return",null);case 45:return e.abrupt("return",Object.assign(Object.assign({type:t.TransactionType.confirmed},r),{receipt:s}));case 46:case"end":return e.stop()}}),e,this,[[2,13],[16,24],[34,42]])})));function n(t){return e.apply(this,arguments)}return n}()},{key:"isTxDropped",value:function(){var t=l(c.mark((function t(e){var n,r,o=arguments;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=o.length>1&&void 0!==o[1]?o[1]:15,r=n;case 2:if(!(r>0)){t.next=13;break}return t.next=5,this.getTransactionAndReceipt(e);case 5:if(t.t0=t.sent,null===t.t0){t.next=8;break}return t.abrupt("return",!1);case 8:return r-=1,t.next=11,Qt(2e3);case 11:t.next=2;break;case 13:return t.abrupt("return",!0);case 14:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getTransactionAndReceipt",value:function(){var t=l(c.mark((function t(e){var n,r,o,i;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Lt(e),t.next=3,Promise.all([this.eth_getTransactionByHash(e),this.eth_getTransactionReceipt(e)]);case 3:return n=t.sent,r=u(n,2),o=r[0],i=r[1],t.abrupt("return",Object.assign(Object.assign({},o),{receipt:i}));case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"isPending",value:function(t){return t&&null===t.blockNumber}},{key:"isFailure",value:function(t){return t&&(!t.receipt||0===t.receipt.status)}}]),e}();function ne(t){return"slice"in t&&t.slice||(t.slice=function(){var e=Array.prototype.slice.call(arguments);return new Uint8Array(Array.prototype.slice.apply(t,e))}),t}function re(t){if(null==t)throw V("cannot convert null value to array",W,{arg:"value",value:t});if(t instanceof Uint8Array)return ne(new Uint8Array(t));if("string"==typeof t){var e=t.match(/^(0x)?[0-9a-fA-F]*$/);if(!e)throw V("invalid hexidecimal string",W,{arg:"value",value:t});if("0x"!==e[1])throw V("hex string must have 0x prefix",W,{arg:"value",value:t});(t=t.substring(2)).length%2&&(t="0"+t);for(var n=[],r=0;r<t.length;r+=2)n.push(parseInt(t.substr(r,2),16));return ne(new Uint8Array(n))}if(function(t){if(!t||parseInt(String(t.length))!=t.length||"string"==typeof t)return!1;for(var e=0;e<t.length;e++){var n=t[e];if(n<0||n>=256||parseInt(String(n))!=n)return!1}return!0}(t))return ne(new Uint8Array(t));throw V("invalid arrayify value",void 0,{arg:"value",value:t,type:typeof t})}function oe(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}Rt([te,Mt("design:type",Function)],ee.prototype,"web3_clientVersion",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"web3_sha3",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"net_version",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"net_peerCount",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"net_listening",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_protocolVersion",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_syncing",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_coinbase",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_mining",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_hashrate",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_gasPrice",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_accounts",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_blockNumber",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_getBalance",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_getStorageAt",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_getTransactionCount",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_getBlockTransactionCountByHash",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_getBlockTransactionCountByNumber",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_getUncleCountByBlockHash",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_getUncleCountByBlockNumber",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_getCode",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_sign",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_sendTransaction",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_sendRawTransaction",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_call",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_estimateGas",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_getBlockByHash",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_getBlockByNumber",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_getTransactionByHash",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_getTransactionByBlockHashAndIndex",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_getTransactionByBlockNumberAndIndex",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_getTransactionReceipt",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_getUncleByBlockHashAndIndex",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_getUncleByBlockNumberAndIndex",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_newFilter",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_newBlockFilter",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_newPendingTransactionFilter",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_uninstallFilter",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_getFilterChanges",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_getFilterLogs",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_getLogs",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_getWork",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_submitWork",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"eth_submitHashrate",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"shh_post",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"shh_version",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"shh_newIdentity",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"shh_hasIdentity",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"shh_newGroup",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"shh_addToGroup",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"shh_newFilter",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"shh_uninstallFilter",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"shh_getFilterChanges",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"shh_getMessages",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"personal_unlockAccount",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"personal_newAccount",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"personal_listAccounts",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"personal_lockAccount",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"personal_importRawKey",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"personal_sendTransaction",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"personal_sign",void 0),Rt([te,Mt("design:type",Function)],ee.prototype,"personal_ecRecover",void 0);var ie=new G(-1),ae=new G(0),se=new G(1),ue=new G("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function ce(t){return function(t,e){function n(e){return new Error('unexpected character "'+t[e]+'" at position '+e+' in "'+t+'"')}for(var r={type:"",name:"",state:{allowType:!0}},o=r,i=0;i<t.length;i++){var a=t[i];switch(a){case"(":if(!o.state.allowParams)throw n(i);o.state.allowType=!1,o.type=le(o.type),o.components=[{type:"",name:"",parent:o,state:{allowType:!0}}],o=o.components[0];break;case")":delete o.state,e&&"indexed"===o.name&&(o.indexed=!0,o.name=""),o.type=le(o.type);var s=o;if(!(o=o.parent))throw n(i);delete s.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,e&&"indexed"===o.name&&(o.indexed=!0,o.name=""),o.type=le(o.type);var u={type:"",name:"",parent:o.parent,state:{allowType:!0}};o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&""!==o.type&&(o.type=le(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&""!==o.name&&(e&&"indexed"===o.name?(o.indexed=!0,o.name=""):o.state.allowName=!1);break;case"[":if(!o.state.allowArray)throw n(i);o.type+=a,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":if(!o.state.readArray)throw n(i);o.type+=a,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:if(o.state.allowType)o.type+=a,o.state.allowParams=!0,o.state.allowArray=!0;else if(o.state.allowName)o.name+=a,delete o.state.allowArray;else{if(!o.state.readArray)throw n(i);o.type+=a}}}if(o.parent)throw new Error("unexpected eof");return delete r.state,e&&"indexed"===o.name&&(o.indexed=!0,o.name=""),r.type=le(r.type),r}(t,!0)}function le(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}var fe=new RegExp(/^bytes([0-9]*)$/),he=new RegExp(/^(u?int)([0-9]*)$/),pe=new RegExp(/^(.*)\[([0-9]*)\]$/),de=function(t,e){var n=t.match(he);return n&&parseInt(n[2])<=48?e.toNumber():e},ge=h((function t(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4?arguments[4]:void 0;f(this,t),this.coerceFunc=e,this.name=n,this.type=r,this.localName=o,this.dynamic=i})),me=function(t){i(n,t);var e=p(n);function n(t){var r;return f(this,n),r=e.call(this,t.coerceFunc,t.name,t.type,void 0,t.dynamic),oe(o(r),"coder",t),r}return h(n,[{key:"encode",value:function(t){return this.coder.encode(t)}},{key:"decode",value:function(t,e){return this.coder.decode(t,e)}}]),n}(ge),ye=function(t){i(n,t);var e=p(n);function n(t,r){return f(this,n),e.call(this,t,"null","",r,!1)}return h(n,[{key:"encode",value:function(t){return re([])}},{key:"decode",value:function(t,e){if(e>t.length)throw new Error("invalid null");return{consumed:0,value:this.coerceFunc("null",void 0)}}}]),n}(ge);function ve(t,e){return new G(t.toString(2).substr(-e),2)}var we=function(t){i(r,t);var n=p(r);function r(t,e,o,i){var a;f(this,r);var s=(o?"int":"uint")+8*e;return(a=n.call(this,t,s,s,i,!1)).size=e,a.signed=o,a}return h(r,[{key:"encode",value:function(t){try{var n=mt(t);if(this.signed){var r=ve(ue,8*this.size-1);if(n.gt(r))throw new Error("out-of-bounds");if(r=r.plus(se).multipliedBy(ie),n.lt(r))throw new Error("out-of-bounds")}else if(n.lt(ae)||n.gt(ve(ue,8*this.size)))throw new Error("out-of-bounds");n=ve(vt(n,8*this.size),8*this.size),this.signed&&(n=vt(kt(n,8*this.size),256));var o=et(vt(n).toString(16),64);if(-1!=o.indexOf("NaN"))throw V("invalid number value, NaN",W,{arg:this.localName,coderType:this.name,value:t,v:n,twosComplement:vt(n),twosComplement16:vt(n).toString(16),pad:et(vt(n).toString(16),64),size:this.size});return K(o)}catch(e){throw V("invalid number value",W,{arg:this.localName,coderType:this.name,value:t,message:e.toString()})}}},{key:"decode",value:function(t,e){if(t.length<e+32)throw V("insufficient data for "+this.name+" type",W,{arg:this.localName,coderType:this.name,value:dt(t.slice(e,e+32))});var n=32-this.size,r=new G(Z(t.slice(e+n,e+32)),16);return r=this.signed?kt(r,8*this.size):ve(r,8*this.size),{consumed:32,value:this.coerceFunc(this.name,r)}}}]),r}(ge),be=new we((function(t,e){return e}),32,!1,"none"),ke=function(t){i(n,t);var e=p(n);function n(t,r,o){var i;f(this,n);var a="bytes"+r;return(i=e.call(this,t,a,a,o,!1)).length=r,i}return h(n,[{key:"encode",value:function(t){var e=new Uint8Array(32);try{if("string"==typeof t&&t.length%2!=0)throw new Error("hex string cannot be odd-length");var n=re(t);if(n.length>this.length)throw new Error("incorrect data length");e.set(n)}catch(e){throw V("invalid "+this.name+" value. Use hex strings or Uint8Array",W,{arg:this.localName,coderType:this.name,value:e.value||t,details:e.message})}return e}},{key:"decode",value:function(t,e){if(t.length<e+32)throw V("insufficient data for "+this.name+" type",W,{arg:this.localName,coderType:this.name,value:dt(t.slice(e,e+32))});return{consumed:32,value:this.coerceFunc(this.name,t.slice(e,e+this.length))}}}]),n}(ge);function _e(t){var e=32*Math.ceil(t.length/32),n=new Uint8Array(e-t.length);return rt(be.encode(t.length),t,n)}function xe(t,e,n){if(t.length<e+32)throw V("insufficient data for dynamicBytes length",W,{arg:n,coderType:"dynamicBytes",value:dt(t.slice(e,e+32))});var r=be.decode(t,e).value;try{r=r.toNumber()}catch(t){throw t("dynamic bytes count too large",W,{arg:n,coderType:"dynamicBytes",value:r.toString()})}if(t.length<e+32+r)throw V("insufficient data for dynamicBytes type",W,{arg:n,coderType:"dynamicBytes",value:dt(t.slice(e,e+32+r))});return{consumed:32+32*Math.ceil(r/32),value:t.slice(e+32,e+32+r)}}function Fe(t){return 32*Math.ceil(t/32)}function Ne(t,e){if(Array.isArray(e));else{if(!e||"object"!=typeof e)throw V("invalid tuple value",W,{coderType:"tuple",value:e});var n=[];t.forEach((function(t){n.push(e[t.localName])})),e=n}if(t.length!==e.length)throw V("types/value length mismatch",W,{coderType:"tuple",value:e});var r=[];t.forEach((function(t,n){r.push({dynamic:t.dynamic,value:t.encode(e[n])})}));var o=0,i=0;r.forEach((function(t){t.dynamic?(o+=32,i+=Fe(t.value.length)):o+=Fe(t.value.length)}));var a=0,s=o,u=new Uint8Array(o+i);return r.forEach((function(t){t.dynamic?(u.set(be.encode(s),a),a+=32,u.set(t.value,s),s+=Fe(t.value.length)):(u.set(t.value,a),a+=Fe(t.value.length))})),u}var Ae=function(t){i(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n)}(r(Array)),Te=function(t){i(n,t);var e=p(n);function n(t,r,o,i){var a;return f(this,n),(a=e.call(this,t,"array",r.type+"["+(o>=0?o:"")+"]",i,-1===o||r.dynamic)).coder=r,a.length=o,a}return h(n,[{key:"encode",value:function(t){if(!Array.isArray(t))throw V("expected array value",W,{arg:this.localName,coderType:"array",value:t});var e=this.length,n=new Uint8Array(0);-1===e&&(e=t.length,n=be.encode(e)),function(t,e,n){if(n||(n=""),t<e)throw V("missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e});if(t>e)throw V("too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}(e,t.length,"in coder array"+(this.localName?" "+this.localName:""));for(var r=[],o=0;o<t.length;o++)r.push(this.coder);return rt(n,Ne(r,t))}},{key:"decode",value:function(t,e){var n=0,r=this.length;if(-1===r){try{var o=be.decode(t,e)}catch(t){throw t("insufficient data for dynamic array length",W,{arg:this.localName,coderType:"array",value:t.value})}try{r=o.value.toNumber()}catch(t){throw t("array count too large",W,{arg:this.localName,coderType:"array",value:o.value.toString()})}n+=o.consumed,e+=o.consumed}for(var i=[],a=0;a<r;a++)i.push(new me(this.coder));var s=function(t,e,n){var r=n,o=0,i=[];return t.forEach((function(t){if(t.dynamic){var a=be.decode(e,n);(s=t.decode(e,r+a.value.toNumber())).consumed=a.consumed}else var s=t.decode(e,n);null!=s.value&&i.push(s.value),n+=s.consumed,o+=s.consumed})),{value:i,consumed:o}}(i,t,e);return s.consumed+=n,s.value=this.coerceFunc(this.type,s.value),s}}]),n}(ge),Ee=function(t){i(n,t);var e=p(n);function n(t,r,o){var i;f(this,n);var a=!1,s=[];return r.forEach((function(t){t.dynamic&&(a=!0),s.push(t.type)})),(i=e.call(this,t,"tuple","tuple("+s.join(",")+")",o,a)).coders=r,i}return h(n,[{key:"encode",value:function(t){return Ne(this.coders,t)}},{key:"decode",value:function(t,e){var n=function(t,e,n){var r=n,o=0,i=new Ae;return t.forEach((function(t){if(t.dynamic){var a=be.decode(e,n);(s=t.decode(e,r+a.value.toNumber())).consumed=a.consumed}else var s=t.decode(e,n);null!=s.value&&i.push(s.value),n+=s.consumed,o+=s.consumed})),t.forEach((function(t,e){var n=t.localName;n&&("length"===n&&(n="_length"),null==i[n]&&(i[n]=i[e]))})),{value:i,consumed:o}}(this.coders,t,e);return n.value=this.coerceFunc(this.type,n.value),n}}]),n}(ge),Be={address:function(t){i(n,t);var e=p(n);function n(t,r){return f(this,n),e.call(this,t,"address","address",r,!1)}return h(n,[{key:"encode",value:function(t){var e=new Uint8Array(32),n=t.trim();if(!xt(n))throw V("invalid address format",W,{arg:this.localName,coderType:"address",value:t});try{e.set(K(Wt(n)),12)}catch(e){throw V("invalid address (".concat(e.message,")"),W,{arg:this.localName,coderType:"address",value:t})}return e}},{key:"decode",value:function(t,e){if(t.length<e+32)throw V("insufficuent data for address type",W,{arg:this.localName,coderType:"address",value:dt(t.slice(e,e+32)),missingBytes:e+32-t.length});return{consumed:32,value:this.coerceFunc("address",bt(dt(t.slice(e+12,e+32))))}}}]),n}(ge),bool:function(t){i(n,t);var e=p(n);function n(t,r){return f(this,n),e.call(this,t,"bool","bool",r,!1)}return h(n,[{key:"encode",value:function(t){return be.encode(t?1:0)}},{key:"decode",value:function(t,e){try{var n=be.decode(t,e)}catch(t){if("insufficient data for uint256 type"===t.reason)throw V("insufficient data for boolean type",W,{arg:this.localName,coderType:"boolean",value:t.value});throw t}return{consumed:n.consumed,value:this.coerceFunc("bool",!n.value.isZero())}}}]),n}(ge),string:function(t){i(n,t);var e=p(n);function n(t,r){return f(this,n),e.call(this,t,"string","string",r,!0)}return h(n,[{key:"encode",value:function(t){if("string"!=typeof t)throw V("invalid string value",W,{arg:this.localName,coderType:"string",value:t});return _e(J(t))}},{key:"decode",value:function(t,e){var n=xe(t,e,this.localName);return n.value=this.coerceFunc("string",$(n.value)),n}}]),n}(ge),bytes:function(t){i(n,t);var e=p(n);function n(t,r){return f(this,n),e.call(this,t,"bytes","bytes",r,!0)}return h(n,[{key:"encode",value:function(t){try{return _e(re(t))}catch(t){throw t("invalid bytes value",W,{arg:this.localName,coderType:"bytes",value:t.value})}}},{key:"decode",value:function(t,e){var n=xe(t,e,this.localName);return n.value=this.coerceFunc("bytes",n.value),n}}]),n}(ge),function:function(t){i(n,t);var e=p(n);function n(t,r){return f(this,n),e.call(this,t,24,r)}return h(n)}(ke)};function Oe(t,e){var n,r=Be[e.type];if(r)return new r(t,e.name);if(n=e.type.match(he)){var o=parseInt(n[2]||"256");if(0===o||o>256||o%8!=0)throw V("invalid "+n[1]+" bit length",W,{arg:"param",value:e});return new we(t,o/8,"int"===n[1],e.name)}if(n=e.type.match(fe)){var i=parseInt(n[1]);if(0===i||i>32)throw V("invalid bytes length",W,{arg:"param",value:e});return new ke(t,i,e.name)}if(n=e.type.match(pe)){var a=Object.assign({},e),s=parseInt(n[2]||"-1");return a.type=n[1],new Te(t,Oe(t,a),s,e.name)}if("tuple"===e.type.substring(0,5))return function(t,e,n){e||(e=[]);var r=e.map((function(e){return Oe(t,e)}));return new Ee(t,r,n)}(t,e.components,e.name);if(""===e.type)return new ye(t,e.name);throw V("invalid type",W,{arg:"type",value:e.type,fullType:e})}var Se,Ce=function(){function t(e){f(this,t),function(t,e){if(!(t instanceof e))throw V("missing new","MISSING_NEW",{name:e.name})}(this,t),e||(e=de),oe(this,"coerceFunc",e)}return h(t,[{key:"encode",value:function(t,e){var n=this;if(t.length!==e.length)throw V("types/values length mismatch",W,{count:{types:t.length,values:e.length},value:{types:t,values:e}});var r=t.map((function(t){return"string"==typeof t?ce(t):t})).map((function(t){return Oe(n.coerceFunc,t)}));return new Ee(this.coerceFunc,r,"_").encode(e)}},{key:"decode",value:function(t,e){var n=this,r=t.map((function(t){return"string"==typeof t?ce(t):t})).map((function(t){return Oe(n.coerceFunc,t)}));return new Ee(this.coerceFunc,r,"_").decode(e,0).value}}]),t}(),Ie=new Ce;!function(t){t.encodeParams=function(t,e){return Z(Ie.encode(t,e))},t.decodeParams=function(t,e){if(t.length>0&&(!e||"0x"===e||"0X"===e))throw new Error("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return Ie.decode(t,K("0x"+e.replace(/0x/i,"")))}}(Se||(Se={}));var Pe=function(){function t(e){f(this,t),this.json=e,this._inputTypes=e.inputs||[],this._outputTypes=e.outputs||[],this._constant=!!e.constant,this._payable=!!e.payable||"payable"===e.stateMutability,this.needsToBeTransaction=this._payable||"constant"in e&&!e.constant||"nonpayable"===e.stateMutability,this._name=nt(e)}return h(t,[{key:"extractDefaultBlock",value:function(t){return t.length>this._inputTypes.length&&!Ot(t[t.length-1])&&Ut(t.pop())||"latest"}},{key:"validateArgs",value:function(t){if(t.some((function(t){return void 0===t})))throw new Error("Invalid call, some arguments are undefined");var e,n,r=t.filter((function(t){return!(!0===Ot(t)&&!1===Ct(t)&&!1===Et(t)&&!(t instanceof Uint8Array))}));if(r.length!==this._inputTypes.length)throw e=r.length,n=this._inputTypes.length,new Error("Invalid number of arguments to Solidity function. given: ".concat(e,", expected: ").concat(n))}},{key:"toPayload",value:function(t){var e={to:void 0,data:void 0,value:void 0,from:void 0};t.length>this._inputTypes.length&&Ot(t[t.length-1])&&(e=t.pop()),this.validateArgs(t);var n=this.signature(),r=Se.encodeParams(this._inputTypes,t);return 0==r.indexOf("0x")&&(r=r.substr(2)),e.data="0x"+n+r,e}},{key:"signature",value:function(){return Y(this._name).slice(0,8)}},{key:"unpackOutput",value:function(t){if(t){var e=t.length>=2?t.slice(2):t,n=Se.decodeParams(this._outputTypes,e);return 1===n.length?n[0]:n}}},{key:"execute",value:function(){var t=l(c.mark((function t(e,n){var r,o,i,a,s,u,l,f=arguments;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}throw new Error("Cannot call function ".concat(this.displayName()," because there is no requestManager"));case 2:for(r=f.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=f[i];if(!this.needsToBeTransaction){t.next=12;break}if((a=this.toPayload(o)).to=n,!(a.value>0)||this._payable){t.next=7;break}throw new Error("Cannot send value to non-payable function");case 7:if(a.from){t.next=9;break}throw new Error('Missing "from" in transaction options');case 9:return t.next=11,e.eth_sendTransaction(a);case 11:return t.abrupt("return",t.sent);case 12:return s=this.extractDefaultBlock(o),(u=this.toPayload(o)).to=n,t.next=16,e.eth_call(u,s);case 16:return l=t.sent,t.abrupt("return",this.unpackOutput(l));case 18:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"estimateGas",value:function(t,e){if(!(t instanceof ee))throw new Error("estimateGas needs to receive a RequestManager as first argument");for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=this.toPayload(r);return i.to=e,t.eth_estimateGas(i)}},{key:"displayName",value:function(){return it(this._name)}},{key:"typeName",value:function(){return at(this._name)||"void"}},{key:"attachToContract",value:function(t){var e=this,n=this.displayName(),r=Object.assign((function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.execute.apply(e,[t.requestManager,t.address].concat(r))}),{estimateGas:this.estimateGas.bind(this,t.requestManager,t.address),toPayload:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.toPayload(n)}});t[n]||(t[n]=r),t[n][this.typeName()]=r}}]),t}();function Re(t){if(null==t)return null;var e=String(t).toString();return 0===e.indexOf("0x")?e:Z(J(e))}var Me=function(){function t(e){f(this,t),this.requestManager=e,this.isStarted=!1,this.isDisposed=!1,this.formatter=function(t){return t},this.filterId=g(),this.callbacks=[],this.stopSemaphore=g()}return h(t,[{key:"watch",value:function(){var t=l(c.mark((function t(e){return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isDisposed){t.next=2;break}throw new Error("The filter was disposed");case 2:if(t.t0=e,!t.t0){t.next=9;break}if(this.callbacks.push(e),t.t1=this.isStarted,t.t1){t.next=9;break}return t.next=9,this.start();case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"start",value:function(){var t=l(c.mark((function t(){var e;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isDisposed){t.next=2;break}throw new Error("The filter was disposed");case 2:if(this.isStarted){t.next=19;break}return this.isStarted=!0,t.prev=4,t.next=7,this.getNewFilter();case 7:if(e=t.sent){t.next=10;break}throw new Error("Could not create a filter, response: "+JSON.stringify(e));case 10:this.filterId.resolve(e),t.next=16;break;case 13:throw t.prev=13,t.t0=t.catch(4),t.t0;case 16:return this.stopSemaphore=g(),t.next=19,this.poll();case 19:case"end":return t.stop()}}),t,this,[[4,13]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"stop",value:function(){var t=l(c.mark((function t(){var e;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isStarted){t.next=2;break}return t.abrupt("return");case 2:if(!this.isDisposed){t.next=4;break}return t.abrupt("return");case 4:return this.isDisposed=!0,t.next=7,this.filterId;case 7:if(e=t.sent,this.isStarted=!1,t.t0=this.stopSemaphore,!t.t0){t.next=13;break}return t.next=13,this.stopSemaphore;case 13:return t.t1=!0,t.next=16,this.uninstall();case 16:if(t.t2=t.sent,t.t1===t.t2){t.next=19;break}throw new Error("Couldn't stop the eth filter: ".concat(e));case 19:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"poll",value:function(){var t=l(c.mark((function t(){var e,n,r=this;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isStarted){t.next=9;break}if(!this.callbacks.length){t.next=6;break}return t.next=4,this.getChanges();case 4:e=t.sent,this.callbacks.forEach((function(t){r.formatter?e.forEach((function(e){t(r.formatter(e))})):e.forEach((function(e){return t(e)}))}));case 6:this.stopSemaphore.resolve(1),this.isStarted&&(this.stopSemaphore=g(),setTimeout((n=function(){return r.poll()},function(){n().catch((function(t){return console.error(t)}))}),500)),t.next=10;break;case 9:this.stopSemaphore.resolve(1);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),je=function(t){i(n,t);var e=p(n);function n(t,r){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};return f(this,n),(o=e.call(this,t)).requestManager=t,o.options=r,o.formatter=i,o.options=o.options||{},o.options.topics=o.options.topics||[],o.options.topics=o.options.topics.map((function(t){return Re(t)})),o.options={topics:o.options.topics,address:o.options.address?o.options.address:void 0,fromBlock:"number"==typeof o.options.fromBlock||"string"==typeof o.options.fromBlock?Dt(o.options.fromBlock)||void 0:"latest",toBlock:"number"==typeof o.options.toBlock||"string"==typeof o.options.toBlock?Dt(o.options.toBlock)||void 0:"latest"},o}return h(n,[{key:"getLogs",value:function(){var t=l(c.mark((function t(){var e;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.isStarted,t.t0){t.next=4;break}return t.next=4,this.start();case 4:return t.next=6,this.filterId;case 6:return e=t.sent,t.abrupt("return",this.requestManager.eth_getFilterLogs(e));case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getNewFilter",value:function(){var t=l(c.mark((function t(){return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.requestManager.eth_newFilter(this.options));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getChanges",value:function(){var t=l(c.mark((function t(){var e;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.filterId;case 2:return e=t.sent,t.abrupt("return",this.requestManager.eth_getFilterChanges(e));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"uninstall",value:function(){var t=l(c.mark((function t(){var e;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.filterId;case 2:return e=t.sent,t.abrupt("return",this.requestManager.eth_uninstallFilter(e));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),n}(Me),Ue=function(){function t(e,n,r){f(this,t),this.requestManager=e,this.address=r,this._anonymous=!1,this._params=n.inputs||[],this._name=nt(n),this._anonymous=n.anonymous||!1}return h(t,[{key:"types",value:function(t){return this._params.filter((function(e){return e.indexed===t}))}},{key:"displayName",value:function(){return it(this._name)}},{key:"typeName",value:function(){return at(this._name)||"void"}},{key:"signature",value:function(){return Y(this._name)}},{key:"encode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={topics:[],address:this.address};void 0!==e.fromBlock&&(n.fromBlock=Dt(e.fromBlock)||void 0),void 0!==e.toBlock&&(n.toBlock=Dt(e.toBlock)||void 0),n.topics=n.topics||[],this._anonymous||n.topics.push("0x"+this.signature());var r=this._params.filter((function(t){return!0===t.indexed})).map((function(e){var n=t[e.name];return null==n?null:Ct(n)?n.map((function(t){return"0x"+Se.encodeParams([e],[t])})):"0x"+Se.encodeParams([e],[n])}));return n.topics=n.topics.concat(r),n}},{key:"decode",value:function(t){t.data=t.data||"",t.topics=t.topics||[];var e=(this._anonymous?t.topics:t.topics.slice(1)).map((function(t){return t.slice(2)})).join(""),n=Se.decodeParams(this.types(!0),e),r=t.data.slice(2),o=Se.decodeParams(this.types(!1),r),i=this._params.reduce((function(t,e){return t[e.name]=e.indexed?n.shift():o.shift(),t}),{});return Object.assign(Object.assign({},$t(t)),{event:this.displayName(),address:t.address,args:i})}},{key:"execute",value:function(){var t=l(c.mark((function t(e,n){var r,o;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.encode(e,n),o=this.decode.bind(this),t.abrupt("return",new je(this.requestManager,r,o));case 2:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"attachToContract",value:function(t){var e=this.execute.bind(this),n=this.displayName();t.events[n]||(t.events[n]=e),t.events[n][this.typeName()]=this.execute.bind(this,t)}}]),t}(),De=function(){function t(e,n,r){f(this,t),this._requestManager=e,this._json=n,this._address=r}return h(t,[{key:"encode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={address:this._address};return void 0!==t.fromBlock&&(e.fromBlock=Dt(t.fromBlock)||void 0),void 0!==t.toBlock&&(e.toBlock=Dt(t.toBlock)||void 0),e}},{key:"decode",value:function(t){t.data=t.data||"";var e=Ct(t.topics)&&Bt(t.topics[0])?t.topics[0].slice(2):"",n=this._json.filter((function(t){return e===Y(nt(t))}))[0];return n?new Ue(this._requestManager,n,this._address).decode(t):$t(t)}},{key:"execute",value:function(){var t=l(c.mark((function t(e){var n,r;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.encode(e),r=this.decode.bind(this),t.abrupt("return",new je(this._requestManager,n,r));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getAllEventsFunction",value:function(){return this.execute.bind(this)}}]),t}(),qe=h((function t(e,n,r){var o;f(this,t),this.requestManager=e,this.abi=n,this.address=r,this.events={},this.transactionHash=null,this.address=r,this.abi=n,(o=this).abi.filter((function(t){return"function"===t.type})).map((function(t){return new Pe(t)})).forEach((function(t){t.attachToContract(o)})),this.allEvents=function(t){var e=t.abi.filter((function(t){return"event"===t.type})),n=new De(t.requestManager,e,t.address);return e.map((function(e){return new Ue(t.requestManager,e,t.address)})).forEach((function(e){e.attachToContract(t)})),n.getAllEventsFunction()}(this)}));t.AbstractFilter=Me,t.BigNumber=G,t.Contract=qe,t.ContractFactory=function(){function t(e,n){f(this,t),this.requestManager=e,this.abi=n}return h(t,[{key:"deploy",value:function(){var t=l(c.mark((function t(){var e,n,r,o,i,a,s,u,f,h,p,d=arguments;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=d.length,n=new Array(e),r=0;r<e;r++)n[r]=d[r];if(Ot(i=n[n.length-1])&&!Ct(i)&&(o=n.pop()),o){t.next=4;break}throw new Error("Missing options object");case 4:if(o.data&&"string"==typeof o.data){t.next=6;break}throw new Error("Invalid options.data");case 6:if(!(ut(o.value)>0)){t.next=9;break}if((this.abi.filter((function(t){return"constructor"===t.type&&t.inputs.length===n.length}))[0]||{}).payable){t.next=9;break}throw new Error("Cannot send value to non-payable constructor");case 9:if(s=this.abi,u=n,a=s.filter((function(t){return"constructor"===t.type&&t.inputs&&t.inputs.length===u.length})).map((function(t){return t.inputs||[]})).map((function(t){return Se.encodeParams(t,u)}))[0]||"",o.data+=a,t.t0=o.gas,t.t0){t.next=16;break}return t.next=15,this.requestManager.eth_estimateGas(o);case 15:o.gas=t.sent;case 16:return t.next=18,this.requestManager.eth_sendTransaction(o);case 18:if(f=t.sent){t.next=21;break}throw new Error("Error while sending contract creation transaction. A TxHash was not retrieved");case 21:return t.next=23,function(){var t=l(c.mark((function t(e,n){var r,o,i,a;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=g(),o=0,function t(){++o>50?r.reject(new Error("Contract transaction couldn't be found after 50 blocks")):e.eth_getTransactionReceipt(n).then((function(e){e&&e.blockHash?r.resolve(e):setTimeout(t,1e3)}),(function(t){return r.reject(t)}))}(),t.next=6,r;case 6:return i=t.sent,t.next=9,e.eth_getCode(i.contractAddress,"latest");case 9:if(!((a=t.sent)&&a.length>3)){t.next=12;break}return t.abrupt("return",i.contractAddress);case 12:throw Object.assign(new Error("The contract code couldn't be stored, please check your gas amount."),{response:a,receipt:i});case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()(this.requestManager,f);case 23:return h=t.sent,t.next=26,this.at(h);case 26:return p=t.sent,t.abrupt("return",(p.transactionHash=f,p));case 28:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"at",value:function(){var t=l(c.mark((function t(e){return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(xt(e)){t.next=2;break}throw new TypeError("Invalid address ".concat(JSON.stringify(e)));case 2:return t.abrupt("return",new qe(this.requestManager,this.abi,e));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),t.EthBlockFilter=function(t){i(n,t);var e=p(n);function n(t){return f(this,n),e.call(this,t,{})}return h(n,[{key:"getNewFilter",value:function(){var t=l(c.mark((function t(){return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.requestManager.eth_newBlockFilter());case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),n}(je),t.EthFilter=je,t.EthPendingTransactionFilter=function(t){i(n,t);var e=p(n);function n(t){return f(this,n),e.call(this,t,{})}return h(n,[{key:"getNewFilter",value:function(){var t=l(c.mark((function t(){return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.requestManager.eth_newPendingTransactionFilter());case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),n}(je),t.HTTPProvider=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,t),this.host=e,this.options=n,this.debug=!1,this.host=e||"http://localhost:8545"}return h(t,[{key:"send",value:function(){throw new Error("Sync requests are deprecated")}},{key:"sendAsync",value:function(t,n){var r=this;try{var o=null;o=t instanceof Array?t.map((function(t){return e(t)})):e(t);var i=this.options.fetch||globalThis.fetch;if(void 0===i)throw new Error("There is no global fetch object nor it was provided. Please install and import isomorphic-fetch");var a={body:JSON.stringify(o),method:"POST",headers:Object.assign(Object.assign({},this.options.headers),{"Content-Type":"application/json"})};this.debug&&console.log("SEND >> "+a.body),i(this.host,a).then(function(){var t=l(c.mark((function t(e){var o;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.ok){t.next=7;break}return t.next=3,e.json();case 3:o=t.sent,r.debug&&console.log("RECV << "+JSON.stringify(o)),o.error?n(Object.assign(new Error(o.error.json||o.error),o.error)):n(null,o),t.next=8;break;case 7:r.debug&&console.log("ERR << "+JSON.stringify(e)),n(new Error("External error. response code: "+e.status));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){r.debug&&console.log("ERR << "+JSON.stringify(t)),n(t)}))}catch(t){this.debug&&console.log("ERR << "+JSON.stringify(t)),n(t)}}}]),t}(),t.Method=Yt,t.Property=Xt,t.RequestManager=ee,t.SHHFilter=function(t){i(n,t);var e=p(n);function n(t,r){var o;return f(this,n),(o=e.call(this,t)).requestManager=t,o.options=r,o.options=o.options||{topics:[]},o.options.topics=o.options.topics||[],o.options.topics=o.options.topics.map((function(t){return Re(t)})),o.options={topics:o.options.topics,to:o.options.to},o}return h(n,[{key:"getMessages",value:function(){var t=l(c.mark((function t(){var e;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.filterId;case 2:return e=t.sent,t.abrupt("return",this.requestManager.shh_getMessages(e));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getNewFilter",value:function(){var t=l(c.mark((function t(){return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.requestManager.shh_newFilter(this.options));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getChanges",value:function(){var t=l(c.mark((function t(){var e;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.filterId;case 2:return e=t.sent,t.abrupt("return",this.requestManager.shh_getFilterChanges(e));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"uninstall",value:function(){var t=l(c.mark((function t(){var e;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.filterId;case 2:return e=t.sent,t.abrupt("return",this.requestManager.shh_uninstallFilter(e));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),n}(Me),t.SolidityEvent=Ue,t.SolidityFunction=Pe,t.WebSocketProvider=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,t),this.url=e,this.options=n,this.isDisposed=!1,this.responseCallbacks=new Map,this.notificationCallbacks=new Set,this.debug=!1,this.lastChunk="",this.connect()}return h(t,[{key:"dispose",value:function(){this.isDisposed=!0;var t=this.connection;this.timeout(new Error("Provider disposed.")),t.then((function(t){return t.close()}))}},{key:"send",value:function(){throw new Error("Sync requests are deprecated")}},{key:"sendAsync",value:function(t,n){var r,o=this,i=[];if(t instanceof Array)r=Promise.all(t.map((function(t){var n=g();try{var r=e(t);i.push(r),o.responseCallbacks.set(r.id,n)}catch(t){n.reject(t)}return n})));else{var a=g();try{var s=e(t);i.push(s),this.responseCallbacks.set(s.id,a)}catch(t){a.reject(t)}r=a}r.then((function(t){return n(null,t)}),(function(t){return n(t)})),this.connection.then((function(t){i.forEach((function(e){var n=JSON.stringify(e);o.debug&&console.log("SEND >> "+n),t.send(n)}))}),(function(t){n(t)}))}},{key:"parseResponse",value:function(t){var e=this,n=[];return t.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach((function(t){var r=t;e.lastChunk&&(r=e.lastChunk+r);var o=null;try{o=JSON.parse(r)}catch(t){return e.lastChunk=r,clearTimeout(e.lastChunkTimeout),void(e.lastChunkTimeout=setTimeout((function(){e.timeout()}),15e3))}clearTimeout(e.lastChunkTimeout),e.lastChunk="",o&&n.push(o)})),n}},{key:"processMessage",value:function(t){if("id"in t){var e=t.id,n=this.responseCallbacks.get(e);if(!n)return void console.error("Error: Received a response for an unknown request",t);this.responseCallbacks.delete(e),"error"in t?n.reject(Object.assign(new Error(t.error.message||t.error),t.error)):"result"in t&&n.resolve(t)}else this.notificationCallbacks.forEach((function(e){return e(null,t)}))}},{key:"timeout",value:function(t){var e=this;this.connection&&this.connection.isPending||(this.connection=g());var n=t||new Error("Connection timeout");this.responseCallbacks.forEach((function(t){return t.reject(n)})),this.responseCallbacks.clear(),this.isDisposed||setTimeout((function(){return e.connect()}),1e3)}},{key:"connect",value:function(){var t=this;this.connection&&!this.connection.isPending&&this.connection.then((function(t){return t.close()})),this.connection&&this.connection.isPending||(this.connection=g()),this.lastChunk="";var e=this.options.WebSocketConstructor||("undefined"!=typeof WebSocket?WebSocket:void 0);if(!e)throw new Error("Please provide a WebSocketConstructor");var n=new e(this.url,this.options.protocol);n.onopen=function(){t.connection.resolve(n)},n.onerror=function(e){var n=new Error("Error in web socket");n.data=e,t.timeout(n)},n.onclose=function(e){t.timeout(new Error("Connection closed (".concat(e&&e.reason||"Unknown reason",")")))},n.onmessage=function(e){var n="string"==typeof e.data?e.data:"";t.debug&&console.log("RECV << "+e.data),t.parseResponse(n).forEach((function(e){e instanceof Array?e.forEach((function(e){return t.processMessage(e)})):t.processMessage(e)}))}}}]),t}(),t.bytesToHex=Z,t.bytesToUtf8String=$,t.concatBytes=rt,t.default=ee,t.extractDisplayName=it,t.extractTypeName=at,t.fromAscii=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="",r=0;r<t.length;r++){var o=t.charCodeAt(r).toString(16);n+=o.length<2?"0"+o:o}return"0x"+n.padEnd(e,"0")},t.fromDecimal=pt,t.fromTwosComplement=kt,t.fromWei=function(t,e){var n=mt(t).dividedBy(gt(e));return Et(t)?n:n.toString(10)},t.getAddress=bt,t.getValueOfUnit=gt,t.hexToBytes=K,t.isAddress=xt,t.isArray=Ct,t.isBigNumber=Et,t.isBloom=function(t){return!!/^(0x)?[0-9a-f]{512}$/i.test(t)&&!!/^(0x)?[0-9a-f]{512}$/i.test(t)},t.isBoolean=St,t.isChecksumAddress=Ft,t.isFunction=function(t){return"function"==typeof t},t.isHex=function(t){return"string"==typeof t&&/^0x[0-9a-fA-F]+$/.test(t)},t.isJson=function(t){try{return!!JSON.parse(t)}catch(t){return!1}},t.isObject=Ot,t.isStrictAddress=_t,t.isString=Bt,t.isTopic=function(t){return!!/^(0x)?[0-9a-f]{64}$/i.test(t)&&!!/^(0x)?[0-9a-f]{64}$/i.test(t)},t.isValidResponse=Pt,t.padLeft=et,t.padRight=function(t,e,n){return t+new Array(e-t.length+1).join(n||"0")},t.sha3=Y,t.signedIsNegative=wt,t.stringToUtf8Bytes=J,t.toAddress=Tt,t.toArray=At,t.toAscii=function(t){var e="",n=0,r=t.length;for("0x"===t.substring(0,2)&&(n=2);n<r;n+=2){var o=parseInt(t.substr(n,2),16);e+=String.fromCharCode(o)}return e},t.toBatchPayload=function(t){return t.map((function(t){return It(t.method,t.params)}))},t.toBigNumber=mt,t.toBoolean=ht,t.toChecksumAddress=Nt,t.toData=lt,t.toDecimal=ut,t.toHex=dt,t.toJsonRpcRequest=It,t.toNullDecimal=st,t.toString=ct,t.toStringData=ft,t.toTwosComplement=vt,t.toWei=function(t,e){var n=mt(t).times(gt(e));return Et(t)?n:n.toString(10)},t.transformToFullName=nt,Object.defineProperty(t,"__esModule",{value:!0})}(e)}}]);
//# sourceMappingURL=548c89a9-b6454da7c59afcbeedb0.js.map